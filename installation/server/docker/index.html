<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.108.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=alternate type=application/rss+xml href=https://go-vela.github.io/docs/installation/server/docker/index.xml><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/docs/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/docs/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/docs/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/docs/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/docs/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/docs/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/docs/favicons/android-96x196.png sizes=96x196><link rel=icon type=image/png href=/docs/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/docs/favicons/android-192x192.png sizes=192x192><title>Docker | Vela</title><meta property="og:title" content="Docker"><meta property="og:description" content="This section contains information on deploying the Vela server service with Docker.
"><meta property="og:type" content="website"><meta property="og:url" content="https://go-vela.github.io/docs/installation/server/docker/"><meta itemprop=name content="Docker"><meta itemprop=description content="This section contains information on deploying the Vela server service with Docker.
"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker"><meta name=twitter:description content="This section contains information on deploying the Vela server service with Docker.
"><link rel=preload href=/docs/scss/main.min.d50bc39876aacdc188417c96eb315e9a0875a46fc79c6f99c235c0022a3fcf82.css as=style><link href=/docs/scss/main.min.d50bc39876aacdc188417c96eb315e9a0875a46fc79c6f99c235c0022a3fcf82.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.3.1.min.js integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin=anonymous></script><title>Docker | Vela</title></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/docs/><span class=navbar-logo><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1500 1500"><title>vela-inverse</title><polygon points="1477.22 329.54 1338.11 219.91 1349.56 43.16 1202.3 141.58 1037.73 76.07 1085.84 246.54 972.68 382.81 1149.67 389.74 1244.3 539.46 1305.58 373.27 1477.22 329.54" style="fill:#9e6bae"/><path d="M1174.75 635.12 757.57 1357.69a3.47 3.47.0 01-6 0L125.38 273.13a3.48 3.48.0 013-5.22H925.24l39.14-47.13L950.19 170.5H128.39A100.9 100.9.0 0041 321.84L667.19 1406.4a100.88 100.88.0 00174.74.0l391.61-678.27z" style="fill:#34c6f4"/><polygon points="1087.64 497.29 1038.27 495.36 754.56 986.75 395.9 365.54 288.13 365.54 754.56 1173.42 1117.58 544.66 1087.64 497.29" style="fill:#fff"/></svg></span><span class="text-uppercase font-weight-bold">Vela</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs/community/><span>Community</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/installation/><span class=active>Installation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs/tour/><span>Tour</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs/usage/><span>Usage</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs/plugins/><span>Plugins</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs/templates/><span>Templates</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs/faq/><span>F.A.Q.</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/docs/reference/><span>Reference</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"><div><div class="search -navbar" id=search1><input id=search1input type=text placeholder="Search site..." v-model=txt @blur=close() maxlength=50><div class=search-results :style="{'display': showresult?'block':'none'}"><a v-for="item in result" :href=item.url>{{ item.display }}</a></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js integrity="sha512-PJa3oQSLWRB7wHZ7GQ/g+qyv6r4mbuhmiDb8BjSFZ8NZ2a42oTtAq5n0ucWAwcQDlikAtkub+tPVCw4np27WCg==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/vue/2.7.16/vue.min.js integrity="sha512-Wx8niGbPNCD87mSuF0sBRytwW2+2ZFr7HwVDF8krCb3egstCc4oQfig+/cfg2OHd82KcUlOYxlSDAqdHqK5TCw==" crossorigin=anonymous></script>
<script>let mounted=function(){document.getElementById("search1input").addEventListener("keyup",e=>{this.txt=e.target.value,this.search()}),axios.get("https://go-vela.github.io/docs/search/index.json").then(function(e){vuesearch1.bdd=e.data.results}).catch(function(e){console.log(e)})},close=function(){setTimeout(function(){vuesearch1.showresult=!1,vuesearch1.txt=""},300)},search=function(){clearTimeout(this.timeoutID),this.timeoutID=setTimeout(this.dosearch,500)},dosearch=function(){this.result=[];let s=this.txt.split(" "),n=[];s.forEach(function(e){e&&n.push(e)});let e,t;n.forEach(function(n){if(e=vuesearch1.bdd.filter(e=>e.content.indexOf(n.toLowerCase())!==-1),vuesearch1.result.length===0){vuesearch1.result=e.slice();return}t=[],vuesearch1.result.forEach(function(n){e.forEach(function(e){n.url===e.url&&t.push(n)})}),vuesearch1.result=t.slice()}),this.result=this.result.slice(0,10),this.result=this.result.sort(function(e,t){return(""+e.display).localeCompare(t.display)}),this.showresult=this.result.length>0},vuesearch1=new Vue({el:"#search1",data:{txt:"",timeoutID:0,showresult:!1,result:{},bdd:[]},mounted,methods:{close,search,dosearch}})</script></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><div><div class="search -sidebar" id=search2><input id=search2input type=text placeholder="Search site..." v-model=txt @blur=close() maxlength=50><div class=search-results :style="{'display': showresult?'block':'none'}"><a v-for="item in result" :href=item.url>{{ item.display }}</a></div></div></div><script src=https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js integrity="sha512-PJa3oQSLWRB7wHZ7GQ/g+qyv6r4mbuhmiDb8BjSFZ8NZ2a42oTtAq5n0ucWAwcQDlikAtkub+tPVCw4np27WCg==" crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/vue/2.7.16/vue.min.js integrity="sha512-Wx8niGbPNCD87mSuF0sBRytwW2+2ZFr7HwVDF8krCb3egstCc4oQfig+/cfg2OHd82KcUlOYxlSDAqdHqK5TCw==" crossorigin=anonymous></script>
<script>let mounted_sidebar=function(){document.getElementById("search2input").addEventListener("keyup",e=>{this.txt=e.target.value,this.search()}),axios.get("https://go-vela.github.io/docs/search/index.json").then(function(e){vuesearch2.bdd=e.data.results}).catch(function(e){console.log(e)})},close_sidebar=function(){setTimeout(function(){vuesearch2.showresult=!1,vuesearch2.txt=""},300)},dosearch_sidebar=function(){this.result=[];var e,t,s=this.txt.split(" "),n=[];s.forEach(function(e){e&&n.push(e)}),n.forEach(function(n){if(e=vuesearch2.bdd.filter(e=>e.content.indexOf(n.toLowerCase())!==-1),vuesearch2.result.length===0){vuesearch2.result=e.slice();return}t=[],vuesearch2.result.forEach(function(n){e.forEach(function(e){n.url===e.url&&t.push(n)})}),vuesearch2.result=t.slice()}),this.result=this.result.slice(0,10),this.result=this.result.sort(function(e,t){return(""+e.display).localeCompare(t.display)}),this.showresult=this.result.length>0},vuesearch2=new Vue({el:"#search2",data:{txt:"",timeoutID:0,showresult:!1,result:{},bdd:[]},mounted:mounted_sidebar,methods:{close:close_sidebar,search,dosearch:dosearch_sidebar}})</script><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav pt-2 pl-4" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Installation</a></li><ul><li class="collapse show" id=docsinstallation><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/server/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Server</a></li><ul><li class="collapse show" id=docsinstallationserver><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/server/docker/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Docker</a></li><ul><li class="collapse show" id=docsinstallationserverdocker></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/server/kubernetes/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Kubernetes</a></li><ul><li class="collapse show" id=docsinstallationserverkubernetes></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/server/reference/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Reference</a></li><ul><li class="collapse show" id=docsinstallationserverreference><a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationserverreferencesettings href=/docs/installation/server/reference/settings/>Settings</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationserverreferencecompiler href=/docs/installation/server/reference/compiler/>Compiler</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationserverreferencedatabase href=/docs/installation/server/reference/database/>Database</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationserverreferencequeue href=/docs/installation/server/reference/queue/>Queue</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationserverreferencescm href=/docs/installation/server/reference/scm/>SCM</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationserverreferencesecret href=/docs/installation/server/reference/secret/>Secret</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationserverreferencetoken_manager href=/docs/installation/server/reference/token_manager/>Token Manager</a></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/worker/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Worker</a></li><ul><li class="collapse show" id=docsinstallationworker><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/worker/docker/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Docker</a></li><ul><li class="collapse show" id=docsinstallationworkerdocker></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/worker/kubernetes/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Kubernetes</a></li><ul><li class="collapse show" id=docsinstallationworkerkubernetes></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/worker/reference/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Reference</a></li><ul><li class="collapse show" id=docsinstallationworkerreference><a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationworkerreferenceexecutor href=/docs/installation/worker/reference/executor/>Executor</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationworkerreferencequeue href=/docs/installation/worker/reference/queue/>Queue</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docsinstallationworkerreferenceruntime href=/docs/installation/worker/reference/runtime/>Runtime</a></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/ui/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">UI</a></li><ul><li class="collapse show" id=docsinstallationui><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/ui/docker/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Docker</a></li><ul><li class="collapse show" id=docsinstallationuidocker></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/ui/kubernetes/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Kubernetes</a></li><ul><li class="collapse show" id=docsinstallationuikubernetes></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/installation/ui/reference/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Reference</a></li><ul><li class="collapse show" id=docsinstallationuireference></li></ul></ul></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/go-vela/docs/edit/main/content/installation/server/docker/_index.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/go-vela/docs/issues/new?title=Docker" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a></div><nav id=TableOfContents><ul><li><a href=#prerequisites>Prerequisites</a><ul><li><a href=#dependency-1-docker>Dependency 1: Docker</a></li><li><a href=#dependency-2-redis>Dependency 2: Redis</a></li></ul></li><li><a href=#installation>Installation</a><ul><li><a href=#step-1-download-the-image>Step 1: Download the Image</a></li><li><a href=#step-2-create-an-encryption-key>Step 2: Create an Encryption Key</a></li><li><a href=#step-3-create-a-shared-secret>Step 3: Create a Shared Secret</a></li><li><a href=#step-4-create-the-private-key>Step 4: Create the private key</a></li><li><a href=#step-5-create-the-signing-key-pair>Step 5: Create the signing key pair</a></li><li><a href=#step-6-create-an-oauth-application>Step 6: Create an OAuth Application</a></li><li><a href=#step-7-start-the-server>Step 7: Start the Server</a></li><li><a href=#step-8-verify-the-server-logs>Step 8: Verify the Server Logs</a></li><li><a href=#step-9-install-workers>Step 9: Install Workers</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://go-vela.github.io/docs/installation/>Installation</a></li><li class=breadcrumb-item><a href=https://go-vela.github.io/docs/installation/server/>Server</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://go-vela.github.io/docs/installation/server/docker/>Docker</a></li></ol></nav><div class=td-content><h1>Docker</h1><div class=lead>This section contains information on deploying the Vela server service with Docker.</div><h2 id=prerequisites>Prerequisites</h2><p>This section provides all required dependencies to install and start the server with Docker.</p><h3 id=dependency-1-docker>Dependency 1: Docker</h3><p><a href=https://docker.com/>Docker</a> will be used for downloading the server and managing the lifecycle of the application.</p><p>You can refer to <a href=https://docs.docker.com/get-docker/>Docker&rsquo;s official documentation</a> on installing and configuring the service.</p><h3 id=dependency-2-redis>Dependency 2: Redis</h3><p><a href=https://redis.io/>Redis</a> will be used for storing workloads, created by the server, that will run on a <a href=/docs/installation/worker/>worker</a>.</p><p>You can refer to <a href=https://redis.io/topics/quickstart/>Redis&rsquo;s official documentation</a> on installing and configuring the service.</p><h2 id=installation>Installation</h2><p>This section provides an example of installing the server with Docker.</p><div class="alert alert-primary" role=alert><h4 class=alert-heading>Note:</h4>This example only shows a subset of all possible configuration options.</div><h3 id=step-1-download-the-image>Step 1: Download the Image</h3><p>Download the <a href=https://docs.docker.com/get-started/overview/#images>Docker image</a> for the Vela server from <a href=https://hub.docker.com/>DockerHub</a>.</p><p>You can use the <a href=https://docs.docker.com/engine/reference/commandline/pull/><code>docker pull</code> command</a> to download the image:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ docker pull target/vela-server:latest
</span></span></code></pre></div><div class="alert alert-primary" role=alert><h4 class=alert-heading>Note:</h4><p>The <code>latest</code> tag will ensure you install the most-recent version of the Vela server.</p><p>To see the full list of available versions, please refer to <a href=https://hub.docker.com/r/target/vela-server>the official registry</a>.</p></div><h3 id=step-2-create-an-encryption-key>Step 2: Create an Encryption Key</h3><p>Create an <a href=https://en.wikipedia.org/wiki/Advanced_Encryption_Standard>Advanced Encryption Standard (AES)</a> key used for encrypting sensitive data at rest in the database.</p><p>You can use the <a href=https://www.openssl.org/><code>openssl</code> command</a> to generate the AES key:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ openssl aes-128-cbc -k secret -P -md sha1
</span></span></code></pre></div><div class="alert alert-primary" role=alert><h4 class=alert-heading>Note:</h4><p>This command will output multiple key/value pairs for the AES key.</p><p>The specific value we need from the output is the line with <code>key</code> in it (i.e. <code>key=&lt;value></code>).</p></div><h3 id=step-3-create-a-shared-secret>Step 3: Create a Shared Secret</h3><div class="alert alert-primary" role=alert><h4 class=alert-heading>Note:</h4>Skip this step if you are utilizing the <a href=/docs/installation/worker/docker/#worker-registration-and-auth-refresh>worker registration auth flow</a></div><p>Create a shared secret used for authenticating communication between workers and the server.</p><p>You can use the <a href=https://www.openssl.org/><code>openssl</code> command</a> to generate the shared secret:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ openssl rand -hex <span style=color:#0000cf;font-weight:700>16</span>
</span></span></code></pre></div><h3 id=step-4-create-the-private-key>Step 4: Create the private key</h3><p>Create a private key used for minting and validating user, worker auth, and build JWT tokens.</p><p>You can also use the <a href=https://www.openssl.org/><code>openssl</code> command</a> to generate the key.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ openssl rand -hex <span style=color:#0000cf;font-weight:700>16</span>
</span></span></code></pre></div><h3 id=step-5-create-the-signing-key-pair>Step 5: Create the signing key pair</h3><p>Create a key pair (ed25519) used for signing queue items. Items are signed via private key and opened via public key in the server and worker, respectively. The key pair must be base64 encoded prior to being supplied to the server. The server distributes the public key to registered workers, therefore both keys must be provided to the server.</p><p>To make it easier, you can use this <a href=https://go.dev/play/p/-go_7SnJbnP>Go Playground program</a> to generate an encoded key pair that is ready to use. For security we recommend running the program locally.</p><div class="alert alert-primary" role=alert><h4 class=alert-heading>Notes:</h4>The private key is used to sign items in the server.
The public key is used to open items in the worker.
Both keys are provided to the server.</div><h3 id=step-6-create-an-oauth-application>Step 6: Create an OAuth Application</h3><p>Vela requires OAuth application credentials from a source control management (SCM) provider.</p><p>These credentials are used to authenticate and authorize actions preformed within the platform.</p><p>Vela has support for many Source Control Management (SCM) providers to enable the preferences of you and your team.</p><p>You can follow the <a href=/docs/installation/server/reference/scm/>SCM reference</a> for instructions on creating the OAuth application.</p><h3 id=step-7-start-the-server>Step 7: Start the Server</h3><p>Start the Vela server as a <a href=https://docs.docker.com/get-started/overview/#containers>Docker container</a> that is configured via environment variables.</p><p>You can use the <a href=https://docs.docker.com/engine/reference/commandline/run/><code>docker run</code> command</a> to start the server:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ docker run <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --detach<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#204a87>true</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_ADDR</span><span style=color:#ce5c00;font-weight:700>=</span>https://vela-server.example.com <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_DATABASE_ENCRYPTION_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>&lt;encryption-key&gt; <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_QUEUE_DRIVER</span><span style=color:#ce5c00;font-weight:700>=</span>redis <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_QUEUE_ADDR</span><span style=color:#ce5c00;font-weight:700>=</span>redis://&lt;password&gt;@&lt;hostname&gt;:&lt;port&gt;/&lt;database&gt; <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_QUEUE_PRIVATE_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>&lt;signing-private-key&gt; <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_QUEUE_PUBLIC_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>&lt;signing-public-key&gt; <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_PORT</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>443</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_SERVER_PRIVATE_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>&lt;private-key&gt; <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_SCM_CLIENT</span><span style=color:#ce5c00;font-weight:700>=</span>&lt;oauth-client-id&gt; <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_SCM_SECRET</span><span style=color:#ce5c00;font-weight:700>=</span>&lt;oauth-client-secret&gt; <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_WEBUI_ADDR</span><span style=color:#ce5c00;font-weight:700>=</span>https://vela.example.com <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --name<span style=color:#ce5c00;font-weight:700>=</span>server <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --publish<span style=color:#ce5c00;font-weight:700>=</span>80:80 <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --publish<span style=color:#ce5c00;font-weight:700>=</span>443:443 <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --restart<span style=color:#ce5c00;font-weight:700>=</span>always <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  target/vela-server:latest
</span></span></code></pre></div><div class="alert alert-primary" role=alert><h4 class=alert-heading>Notes:</h4><p>If using the <a href=/docs/installation/worker/docker/#worker-server-trusted-symmetric-token>server-worker trusted symmetric auth method</a>, be sure to add the <code>VELA_SECRET</code> env variable:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  --env<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000>VELA_SECRET</span><span style=color:#ce5c00;font-weight:700>=</span>&lt;shared_secret&gt;
</span></span></code></pre></div><p>For a full list of configuration options, please see the <a href=/docs/installation/server/reference/>server reference</a>.</p></div><h3 id=step-8-verify-the-server-logs>Step 8: Verify the Server Logs</h3><p>Ensure the server started up successfully and is running as expected by viewing the logs.</p><p>You can use the <a href=https://docs.docker.com/engine/reference/commandline/logs/><code>docker logs</code> command</a> to inspect the logs:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ docker logs server
</span></span></code></pre></div><h3 id=step-9-install-workers>Step 9: Install Workers</h3><p>After the server is up and running, you need to install workers to run workloads.</p><p>Please refer to <a href=/docs/installation/worker/>the worker installation docs</a> for more information.</p><div class=section-index><hr class=panel-line></div><div class="text-muted mt-5 pt-3 border-top">Last modified October 5, 2023: <a href=https://github.com/go-vela/docs/commit/5cc053bc894fecb1d4441da4d53d032da7dbce1a>feat: server+worker queue signing installation docs (#375) (5cc053bc)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/go-vela><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a class=text-white target=_blank href="https://gophers.slack.com/app_redirect?channel=CNRRKE8KY"><i class="fab fa-slack"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Developer mailing list" aria-label="Developer mailing list"><a class=text-white target=_blank href=mailto:vela@target.com><i class="fa fa-envelope"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2024 Target Brands All Rights Reserved</small>
<small class=ml-1><a href=https://github.com/go-vela/server/blob/main/LICENSE target=_blank>Privacy Policy</a></small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.11.8/umd/popper.min.js integrity="sha512-TPh2Oxlg1zp+kz3nFA0C5vVC6leG/6mm1z9+mA81MI5eaUVqasPLO8Cuk4gMF4gUfP5etR73rgU/8PNMsSesoQ==" crossorigin=anonymous></script>
<script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script>
<script src=/docs/js/main.min.7a71bafd3fa8b6fc0a69d44088ed34c9fad67cd3fa093a1f02a9fa6850b16a1c.js integrity="sha256-enG6/T+otvwKadRAiO00yfrWfNP6CTofAqn6aFCxahw=" crossorigin=anonymous></script></body></html>