<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Vela â€“ SCM</title><link>https://go-vela.github.io/docs/reference/api/scm/</link><description>Recent content in SCM on Vela</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://go-vela.github.io/docs/reference/api/scm/index.xml" rel="self" type="application/rss+xml"/><item><title>Reference: Sync</title><link>https://go-vela.github.io/docs/reference/api/scm/sync/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/reference/api/scm/sync/</guid><description>
&lt;h2 id="endpoint">Endpoint&lt;/h2>
&lt;pre tabindex="0">&lt;code>PATCH /api/v1/scm/repos/:org/:repo/sync
&lt;/code>&lt;/pre>&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;p>The following parameters are used to configure the endpoint:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Name&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>org&lt;/code>&lt;/td>
&lt;td style="text-align: left">name of organization&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>repo&lt;/code>&lt;/td>
&lt;td style="text-align: left">name of repository&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="responses">Responses&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Status Code&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>200&lt;/code>&lt;/td>
&lt;td style="text-align: left">indicates the request has succeeded&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>401&lt;/code>&lt;/td>
&lt;td style="text-align: left">indicates the user does not have proper permissions&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>The sync endpoint allows users to re-align their repository in Vela with its SCM mirror. This discrepancy can come in the form of a repository that has been deleted from the SCM but not in Vela.&lt;/p>
&lt;p>Further, as of &lt;code>v0.19.0&lt;/code>, the sync endpoint can be used to adjust events that are sent to Vela from the SCM that the Vela-instance of the repo is not subscribed to. For example, if your audit page has errors like&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;unable to process webhook: &amp;lt;org&amp;gt;/&amp;lt;repo&amp;gt; does not have comment events enabled&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>hitting the sync endpoint should re-configure the SCM webhook to only send events that are allowed. Once aligned, you should not have to hit this endpoint again, even if the subscribed events are changed.&lt;/p>
&lt;h2 id="sample">Sample&lt;/h2>
&lt;div class="alert alert-warning" role="alert">
&lt;p>This section assumes you already know how to authenticate to the API.&lt;/p>
&lt;p>To authenticate to the API, please review the &lt;a href="https://go-vela.github.io/docs/docs/reference/api/authentication/">authentication documentation&lt;/a>.&lt;/p>
&lt;/div>
&lt;h4 id="request">Request&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>curl &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> -X PATCH &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Authorization: Bearer &amp;lt;token&amp;gt;&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;http://127.0.0.1:8080/api/v1/scm/repos/github/octocat/sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="response">Response&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>repo &lt;span style="color:#4e9a06">&amp;#34;github/octocat&amp;#34;&lt;/span> synced
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Reference: SyncAll</title><link>https://go-vela.github.io/docs/reference/api/scm/syncall/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/reference/api/scm/syncall/</guid><description>
&lt;h2 id="endpoint">Endpoint&lt;/h2>
&lt;pre tabindex="0">&lt;code>GET /api/v1/scm/orgs/:org/sync
&lt;/code>&lt;/pre>&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;p>The following parameters are used to configure the endpoint:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Name&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>org&lt;/code>&lt;/td>
&lt;td style="text-align: left">name of organization&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="responses">Responses&lt;/h2>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align: left">Status Code&lt;/th>
&lt;th style="text-align: left">Description&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align: left">&lt;code>200&lt;/code>&lt;/td>
&lt;td style="text-align: left">indicates the request has succeeded&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align: left">&lt;code>401&lt;/code>&lt;/td>
&lt;td style="text-align: left">indicates the user does not have proper permissions&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>The sync-all endpoint allows users to re-align their organization&amp;rsquo;s repositories in Vela with their SCM mirror. This discrepancy can come in the form of a repository that has been deleted from the SCM but not in Vela.&lt;/p>
&lt;p>Further, as of &lt;code>v0.19.0&lt;/code>, the sync-all endpoint can be used to adjust events that are sent to Vela from the SCM that the Vela-instance of the repo is not subscribed to. For example, if your audit page has errors like&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&amp;#34;unable to process webhook: &amp;lt;org&amp;gt;/&amp;lt;repo&amp;gt; does not have comment events enabled&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>hitting the sync-all endpoint should re-configure the SCM webhook for all repos in the organization to only send events that are allowed. Once aligned, you should not have to hit this endpoint again, even if the subscribed events are changed.&lt;/p>
&lt;h2 id="sample">Sample&lt;/h2>
&lt;div class="alert alert-warning" role="alert">
&lt;p>This section assumes you already know how to authenticate to the API.&lt;/p>
&lt;p>To authenticate to the API, please review the &lt;a href="https://go-vela.github.io/docs/docs/reference/api/authentication/">authentication documentation&lt;/a>.&lt;/p>
&lt;/div>
&lt;h4 id="request">Request&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>curl &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> -X PATCH &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> -H &lt;span style="color:#4e9a06">&amp;#34;Authorization: Bearer &amp;lt;token&amp;gt;&amp;#34;&lt;/span> &lt;span style="color:#4e9a06">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#4e9a06">&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;http://127.0.0.1:8080/api/v1/scm/orgs/github/sync&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="response">Response&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>org &lt;span style="color:#4e9a06">&amp;#34;github&amp;#34;&lt;/span> synced
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item></channel></rss>