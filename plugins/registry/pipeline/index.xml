<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Vela – Pipeline</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/</link><description>Recent content in Pipeline on Vela</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://go-vela.github.io/docs/plugins/registry/pipeline/index.xml" rel="self" type="application/rss+xml"/><item><title>Plugins: Ansible</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/ansible/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/ansible/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin is designed for using ansible-playbook and ansible-lint in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-ansible">https://github.com/go-vela/vela-ansible&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-ansible">https://hub.docker.com/r/target/vela-ansible&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>More information for ansible-lint can be found at: &lt;a href="https://ansible-lint.readthedocs.io/en/latest/">ansible-lint docs&lt;/a>. &lt;br>
More information for ansible-playbook can be found at: &lt;a href="https://ansible-lint.readthedocs.io/en/latest/">ansible-playbook docs&lt;/a>.&lt;/p>
&lt;h3 id="sample-for-velayml">Sample for .vela.yml&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ansible-lint&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-ansible:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">lint&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">playbook&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;abox/main.yml&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">lint_skip&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#0000cf;font-weight:bold">403&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#0000cf;font-weight:bold">201&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ansible-playbook&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-ansible:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">playbook&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">playbook&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;abox/main.yml&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">options_inventory&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;abox/inventory/hosts.yml&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">connection_user&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">root&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin (valid options: &lt;code>info&lt;/code>, &lt;code>debug&lt;/code>, &lt;code>trace&lt;/code>)&lt;/td>
&lt;td>true&lt;/td>
&lt;td>info&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>action &lt;/code>&lt;/td>
&lt;td>set plugin action (valid options: &lt;code>lint&lt;/code>, &lt;code>playbook&lt;/code>&lt;/td>
&lt;td>true&lt;/td>
&lt;td>lint&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>Note: &lt;code>action&lt;/code> parameter will determine whether to run ansible-lint or ansible-playbook. The default is set to ansible-lint.&lt;/p>
&lt;/blockquote>
&lt;h3 id="ansible-lint">Ansible-Lint&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>playbook&lt;/code>&lt;/td>
&lt;td>playbook to be ran by ansible-lint&lt;/td>
&lt;td>true&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_version&lt;/code>&lt;/td>
&lt;td>returns ansible-lint version and exits the program.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_list&lt;/code>&lt;/td>
&lt;td>lists all the rules.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_format&lt;/code>&lt;/td>
&lt;td>format used rules output {rich,plain,rst,codeclimate,quiet,pep8}&lt;/td>
&lt;td>false&lt;/td>
&lt;td>rich&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_quieter&lt;/code>&lt;/td>
&lt;td>quieter, although not silent output.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_parseable&lt;/code>&lt;/td>
&lt;td>parseable output in the format of pep8.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_parseableseverity&lt;/code>&lt;/td>
&lt;td>parseable output including severity of rule.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_progressive&lt;/code>&lt;/td>
&lt;td>return success if it detects a reduction in number of violations compared with previous git commit. This feature works only in git repositories.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_projectdir&lt;/code>&lt;/td>
&lt;td>location of project/repository, autodetected based on location of configuration file.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_rule&lt;/code>&lt;/td>
&lt;td>specify one or more rules directories. -r flag (lint_rule) overrides the default rules in /path/to/ansible-lint/lib/ansiblelint/rules, unless -R (lint_rulesdefault) is also used.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_rulesdefault&lt;/code>&lt;/td>
&lt;td>use default rules in /path/to/ansible-lint/lib/ansiblelint/rules in addition to any extra rules directories specified with -r (lint_rule). There is no need to specify this if no -r (lint_rule) flag/s is/are used.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_showrelativepath&lt;/code>&lt;/td>
&lt;td>display path relative to CWD.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_tags&lt;/code>&lt;/td>
&lt;td>only check rules whose id/tags match these values.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_tagslist&lt;/code>&lt;/td>
&lt;td>list all the tags.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_verbose&lt;/code>&lt;/td>
&lt;td>increase verbosity level.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_skip&lt;/code>&lt;/td>
&lt;td>only check rules whose id/tags does not match these values.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_warn&lt;/code>&lt;/td>
&lt;td>only warn about these rules, unless overridden in config file defaults to &amp;rsquo;experimental'&lt;/td>
&lt;td>false&lt;/td>
&lt;td>experimental&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_enable&lt;/code>&lt;/td>
&lt;td>activate optional rules by their tag name&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_nocolor&lt;/code>&lt;/td>
&lt;td>disable colored output.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_forcecolor&lt;/code>&lt;/td>
&lt;td>try force colored output.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_exclude&lt;/code>&lt;/td>
&lt;td>path to directories or files to skip.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_config&lt;/code>&lt;/td>
&lt;td>specify a configuration file to use.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>.ansible-lint&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lint_offline&lt;/code>&lt;/td>
&lt;td>disable installation of requirements.yml&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="ansible-playbook">Ansible-Playbook&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>playbook&lt;/code>&lt;/td>
&lt;td>playbook to be ran by ansible-playbook.&lt;/td>
&lt;td>true&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="ansible-playbook-options">ansible-playbook options&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>options_askvaultpass&lt;/code>&lt;/td>
&lt;td>ask for vault password.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_flushcache&lt;/code>&lt;/td>
&lt;td>clear the fact cache for every host in inventory.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_forcehandlers&lt;/code>&lt;/td>
&lt;td>run handlers even if a task fails.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_listhosts&lt;/code>&lt;/td>
&lt;td>outputs a list of matching hosts and exits program.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_listtags&lt;/code>&lt;/td>
&lt;td>list all available tags&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_listtasks&lt;/code>&lt;/td>
&lt;td>list all tasks to be executed.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_skiptags&lt;/code>&lt;/td>
&lt;td>only run plays and tasks whose tags does not match these values.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_startattask&lt;/code>&lt;/td>
&lt;td>start the playbook at the task matching this name.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_step&lt;/code>&lt;/td>
&lt;td>one-set-at-a-time: confirm each task before running.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_syntaxcheck&lt;/code>&lt;/td>
&lt;td>perform a syntax check on the playbook and exits program.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_vaultid&lt;/code>&lt;/td>
&lt;td>the vault identity to use.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_vaultpasswordfile&lt;/code>&lt;/td>
&lt;td>vault password file.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_version&lt;/code>&lt;/td>
&lt;td>returns ansible-playbook version number, configuration file location, configured module search path, module location, executable location and exits program.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_check&lt;/code>&lt;/td>
&lt;td>dry-run, does not make any changes; instead, tries to predict some of the changes that may occur.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_difference&lt;/code>&lt;/td>
&lt;td>when changing (small) files and template, shows the difference in those files.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_modulepath&lt;/code>&lt;/td>
&lt;td>prepend colon-separated path(s) to module library&lt;/td>
&lt;td>false&lt;/td>
&lt;td>~/.ansible/plugins/modules:/usr/share/ansible/plugins/modules&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_extravars&lt;/code>&lt;/td>
&lt;td>set additional variables as key=value or YAML/JSON, if filename is prepend with @&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_forks&lt;/code>&lt;/td>
&lt;td>specify number of parallel processes to use.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>5&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_inventory&lt;/code>&lt;/td>
&lt;td>specify inventory host path or comma separated host list.&lt;/td>
&lt;td>true&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_limit&lt;/code>&lt;/td>
&lt;td>further limit selected hosts to additional pattern.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_tags&lt;/code>&lt;/td>
&lt;td>only run plays and task whose tags matches these values.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_verbose&lt;/code>&lt;/td>
&lt;td>verbose mode.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_verbosemore&lt;/code>&lt;/td>
&lt;td>verbose mode: more verbose.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>options_verbosedebug&lt;/code>&lt;/td>
&lt;td>verbose mode: connection debugging&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="ansible-playbook-connection">ansible-playbook connection&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>connection_privatekey&lt;/code>&lt;/td>
&lt;td>use this file to authenticate the connection.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connection_scpextraargs&lt;/code>&lt;/td>
&lt;td>specify extra arguments to pass to scp only.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connection_sftpextraargs&lt;/code>&lt;/td>
&lt;td>specify extra arguments to pass to sftp only.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connection_sshextraargs&lt;/code>&lt;/td>
&lt;td>specify extra arguments to pass to ssh only.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connection_sshcommonargs&lt;/code>&lt;/td>
&lt;td>specify common arguments to pass to scp/sftp/ssh.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connection_timeout&lt;/code>&lt;/td>
&lt;td>override the connection timeout in seconds.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>10&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connection_connection&lt;/code>&lt;/td>
&lt;td>connection type to use.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>smart&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connection_user&lt;/code>&lt;/td>
&lt;td>connect as this user.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>none&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>connection_passwordfile&lt;/code>&lt;/td>
&lt;td>connection password file&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="ansible-playbook-privilege-escalation">ansible-playbook privilege escalation&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>privilege_becomemethod&lt;/code>&lt;/td>
&lt;td>privilege escalation method to use.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>sudo&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>privilege_becomeuser&lt;/code>&lt;/td>
&lt;td>run operation as this user.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>root&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>privilege_askbecomepass&lt;/code>&lt;/td>
&lt;td>ask for privilege escalation password.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>privilege_become&lt;/code>&lt;/td>
&lt;td>run operations with become (does not imply password prompting)&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>privilege_becomepassfile&lt;/code>&lt;/td>
&lt;td>become password file&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: ansible-lint
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-ansible:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> action: lint
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> playbook: &amp;#34;abox/main.yml&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: Artifactory</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/artifactory/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/artifactory/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to manage artifacts in &lt;a href="https://jfrog.com/artifactory/">Artifactory&lt;/a> in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-artifactory">https://github.com/go-vela/vela-artifactory&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-artifactory">https://hub.docker.com/r/target/vela-artifactory&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of copying an artifact:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">copy_artifacts&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-artifactory:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">copy&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">libs-snapshot-local/foo.txt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">target&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">libs-snapshot-local/bar.txt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">url&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">http://localhost:8081/artifactory&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of deleting an artifact:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">delete_artifacts&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-artifactory:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">delete&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">libs-snapshot-local/foo.txt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">url&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">http://localhost:8081/artifactory&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of setting properties on an artifact:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">set_properties_artifacts&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-artifactory:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">set-prop&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">libs-snapshot-local/foo.txt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">props&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">single&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">value&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">foo&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">multiple&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">values&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">bar&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">baz&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">url&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">http://localhost:8081/artifactory&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of uploading an artifact:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">upload_artifacts&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-artifactory:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">upload&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">libs-snapshot-local/&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sources&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">foo.txt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">target/*.jar&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">dist/**/*.js&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">url&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">http://localhost:8081/artifactory&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of pretending to upload an artifact:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: upload_artifacts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-artifactory:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: upload
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ dry_run: true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> path: libs-snapshot-local/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sources:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - foo.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - target/*.jar
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - dist/**/*.js
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> url: http://localhost:8081/artifactory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of using docker-promote on an artifact:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">docker_promote_artifacts&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-artifactory:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">docker-promote&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">target_repo&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">libs-snapshot-local&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">docker_registry&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">octocat/hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">tag&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">target_docker_registry&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">octocat/hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">target_tags&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;${VELA_BUILD_COMMIT:0:8}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>The plugin accepts the following &lt;code>parameters&lt;/code> for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Environment Variable Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>api_key&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_API_KEY&lt;/code>, &lt;code>ARTIFACTORY_API_KEY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>, &lt;code>ARTIFACTORY_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>, &lt;code>ARTIFACTORY_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: copy_artifacts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-artifactory:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ artifactory_username, artifactory_password ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: copy
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path: libs-snapshot-local/foo.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> target: libs-snapshot-local/bar.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> url: http://localhost:8081/artifactory
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secrets to the &lt;code>copy_artifacts&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>ARTIFACTORY_USERNAME=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>ARTIFACTORY_PASSWORD=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>File Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>api_key&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/artifactory/api_key&lt;/code>, &lt;code>/vela/secrets/artifactory/api_key&lt;/code>, &lt;code>/vela/secrets/managed-auth/api_key&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/artifactory/password&lt;/code>, &lt;code>/vela/secrets/artifactory/password&lt;/code>, &lt;code>/vela/secrets/managed-auth/password&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/artifactory/username&lt;/code>, &lt;code>/vela/secrets/artifactory/username&lt;/code>, &lt;code>/vela/secrets/managed-auth/username&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: copy_artifacts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-artifactory:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: copy
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path: libs-snapshot-local/foo.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> target: libs-snapshot-local/bar.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> url: http://localhost:8081/artifactory
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret values in the build workspace stored at &lt;code>/vela/secrets/artifactory/*&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via:&lt;/p>
&lt;ul>
&lt;li>environment variables - &lt;code>PARAMETER_*&lt;/code> OR &lt;code>ARTIFACTORY_*&lt;/code>&lt;/li>
&lt;li>files - &lt;code>/vela/parameters/artifactory/*&lt;/code> OR &lt;code>/vela/secrets/artifactory/*&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Any values set from a file takes precedence over values set from the environment.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>action&lt;/code>&lt;/td>
&lt;td>action to perform against Artifactory&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ACTION&lt;/code>&lt;br>&lt;code>ARTIFACTORY_ACTION&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>api_key&lt;/code>&lt;/td>
&lt;td>API key for communication with Artifactory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_API_KEY&lt;/code>&lt;br>&lt;code>ARTIFACTORY_API_KEY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dry_run&lt;/code>&lt;/td>
&lt;td>enables pretending to perform the action&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DRY_RUN&lt;/code>&lt;br>&lt;code>ARTIFACTORY_DRY_RUN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>ARTIFACTORY_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>password for communication with Artifactory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>ARTIFACTORY_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>url&lt;/code>&lt;/td>
&lt;td>Artifactory instance to communicate with&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_URL&lt;/code>&lt;br>&lt;code>ARTIFACTORY_URL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>user name for communication with Artifactory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>&lt;br>&lt;code>ARTIFACTORY_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>http_client_retries&lt;/code>&lt;/td>
&lt;td>number of times to retry failed http attempts&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>3&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_HTTP_CLIENT_RETRIES&lt;/code>&lt;br>&lt;code>ARTIFACTORY_HTTP_CLIENT_RETRIES&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>http_client_retry_wait&lt;/code>&lt;/td>
&lt;td>amount of milliseconds to wait between failed http attempts&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>500&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_HTTP_CLIENT_RETRY_WAIT_MILLISECONDS&lt;/code>&lt;br>&lt;code>ARTIFACTORY_HTTP_CLIENT_RETRY_WAIT_MILLISECONDS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>http_client_cert&lt;/code>&lt;/td>
&lt;td>file path to the client certificate to use for TLS communication&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_HTTP_CLIENT_CERT&lt;/code>&lt;br>&lt;code>ARTIFACTORY_HTTP_CLIENT_CERT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>http_client_cert_key&lt;/code>&lt;/td>
&lt;td>file path to the client certificate key to use for TLS communication&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_HTTP_CLIENT_CERT_KEY&lt;/code>&lt;br>&lt;code>ARTIFACTORY_HTTP_CLIENT_CERT_KEY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>http_client_insecure_tls&lt;/code>&lt;/td>
&lt;td>enable insecure TLS communication&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_HTTP_CLIENT_INSECURE_TLS&lt;/code>&lt;br>&lt;code>ARTIFACTORY_HTTP_CLIENT_INSECURE_TLS&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="copy">Copy&lt;/h3>
&lt;p>The following parameters are used to configure the &lt;code>copy&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>flat&lt;/code>&lt;/td>
&lt;td>enables removing source directory hierarchy&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FLAT&lt;/code>&lt;br>&lt;code>ARTIFACTORY_FLAT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>path&lt;/code>&lt;/td>
&lt;td>source path to copy artifact(s) from&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PATH&lt;/code>&lt;br>&lt;code>ARTIFACTORY_PATH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>recursive&lt;/code>&lt;/td>
&lt;td>enables copying sub-directories for the artifact(s)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_RECURSIVE&lt;/code>&lt;br>&lt;code>ARTIFACTORY_RECURSIVE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target&lt;/code>&lt;/td>
&lt;td>target path to copy artifact(s) to&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET&lt;/code>&lt;br>&lt;code>ARTIFACTORY_TARGET&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="delete">Delete&lt;/h3>
&lt;p>The following parameters are used to configure the &lt;code>delete&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>path&lt;/code>&lt;/td>
&lt;td>target path to delete artifact(s) from&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PATH&lt;/code>&lt;br>&lt;code>ARTIFACTORY_PATH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>recursive&lt;/code>&lt;/td>
&lt;td>enables removing sub-directories for the artifact(s)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_RECURSIVE&lt;/code>&lt;br>&lt;code>ARTIFACTORY_RECURSIVE&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="docker-promote">Docker-Promote&lt;/h3>
&lt;p>The following parameters are used to configure the &lt;code>docker-promote&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>copy&lt;/code>&lt;/td>
&lt;td>set to copy instead of moving the image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_COPY&lt;/code>&lt;br>&lt;code>ARTIFACTORY_COPY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>docker_registry&lt;/code>&lt;/td>
&lt;td>path to image in docker registry&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DOCKER_REGISTRY&lt;/code>&lt;br>&lt;code>ARTIFACTORY_DOCKER_REGISTRY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>promote_props&lt;/code>&lt;/td>
&lt;td>enables setting properties on the promoted artifact&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PROMOTE_PROPS&lt;/code>&lt;br>&lt;code>ARTIFACTORY_PROMOTE_PROPS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tag&lt;/code>&lt;/td>
&lt;td>name of the tag for promoting&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TAG&lt;/code>&lt;br>&lt;code>ARTIFACTORY_TAG&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target_docker_registry&lt;/code>&lt;/td>
&lt;td>path for target image in docker registry&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET_DOCKER_REGISTRY&lt;/code>&lt;br>&lt;code>ARTIFACTORY_TARGET_DOCKER_REGISTRY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target_repo&lt;/code>&lt;/td>
&lt;td>name of the docker registry containing the image&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET_REPO&lt;/code>&lt;br>&lt;code>ARTIFACTORY_TARGET_REPO&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target_tags&lt;/code>&lt;/td>
&lt;td>name of the final tags after promotion&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET_TAGS&lt;/code>&lt;br>&lt;code>ARTIFACTORY_TARGET_TAGS&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="set-prop">Set-Prop&lt;/h3>
&lt;p>The following parameters are used to configure the &lt;code>set-prop&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>path&lt;/code>&lt;/td>
&lt;td>target path to artifact(s)&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PATH&lt;/code>&lt;br>&lt;code>ARTIFACTORY_PATH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>props&lt;/code>&lt;/td>
&lt;td>properties to set on the artifact(s)&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PROPS&lt;/code>&lt;br>&lt;code>ARTIFACTORY_PROPS&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="upload">Upload&lt;/h3>
&lt;p>The following parameters are used to configure the &lt;code>upload&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>flat&lt;/code>&lt;/td>
&lt;td>enables removing source directory hierarchy&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FLAT&lt;/code>&lt;br>&lt;code>ARTIFACTORY_FLAT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>include_dirs&lt;/code>&lt;/td>
&lt;td>enables including sub-directories for the artifact(s)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_INCLUDE_DIRS&lt;/code>&lt;br>&lt;code>ARTIFACTORY_INCLUDE_DIRS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>path&lt;/code>&lt;/td>
&lt;td>target path to upload artifact(s) to&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PATH&lt;/code>&lt;br>&lt;code>ARTIFACTORY_PATH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>recursive&lt;/code>&lt;/td>
&lt;td>enables uploading sub-directories for the artifact(s)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_RECURSIVE&lt;/code>&lt;br>&lt;code>ARTIFACTORY_RECURSIVE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>regexp&lt;/code>&lt;/td>
&lt;td>enables reading the sources as a regular expression&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REGEXP&lt;/code>&lt;br>&lt;code>ARTIFACTORY_REGEXP&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sources&lt;/code>&lt;/td>
&lt;td>list of artifact(s) to upload&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SOURCES&lt;/code>&lt;br>&lt;code>ARTIFACTORY_SOURCES&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: copy_artifacts
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-artifactory:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: copy
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> path: libs-snapshot-local/foo.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> target: libs-snapshot-local/bar.txt
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> url: http://localhost:8081/artifactory
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: Build Summary</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/build-summary/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/build-summary/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to provide a summary of a build in a pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-build-summary">https://github.com/go-vela/vela-build-summary&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-build-summary">https://hub.docker.com/r/target/vela-build-summary&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of outputting a summary for the current build:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">build-summary&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-build-summary:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">build_summary_token ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of outputting a summary for an existing build:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: build-summary
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-build-summary:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ build_summary_token ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ number: 1
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of outputting a summary for an existing build in a different repo:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: build-summary
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-build-summary:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ build_summary_token ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> number: 1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ org: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ repo: hello-world
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>The plugin accepts the following &lt;code>parameters&lt;/code> for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Environment Variable Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>token&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TOKEN&lt;/code>, &lt;code>BUILD_SUMMARY_TOKEN&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: build-summary
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-build-summary:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ build_summary_token ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span>&lt;span style="color:#a40000">- parameters:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- token: superSecretToken
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secret to the &lt;code>build-summary&lt;/code> step as an environment variable:&lt;/p>
&lt;ul>
&lt;li>&lt;code>BUILD_SUMMARY_TOKEN=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>token&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/build-summary/token&lt;/code>, &lt;code>/vela/secrets/build-summary/token&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: build-summary
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-build-summary:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- parameters:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- token: superSecretToken
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret values in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>BUILD_SUMMARY_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>number&lt;/code>&lt;/td>
&lt;td>set the number for the build&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_NUMBER&lt;/code>&lt;br>&lt;code>BUILD_SUMMARY_NUMBER&lt;/code>&lt;br>&lt;code>VELA_BUILD_NUMBER&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>org&lt;/code>&lt;/td>
&lt;td>set the organization name for the build&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_ORG&lt;/code>&lt;br>&lt;code>BUILD_SUMMARY_ORG&lt;/code>&lt;br>&lt;code>VELA_REPO_ORG&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>repo&lt;/code>&lt;/td>
&lt;td>set the repository name for the build&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_REPO&lt;/code>&lt;br>&lt;code>BUILD_SUMMARY_REPO&lt;/code>&lt;br>&lt;code>VELA_REPO_NAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>server&lt;/code>&lt;/td>
&lt;td>Vela server to communicate with&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_SERVER&lt;/code>&lt;br>&lt;code>BUILD_SUMMARY_SERVER&lt;/code>&lt;br>&lt;code>VELA_ADDR&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>token&lt;/code>&lt;/td>
&lt;td>token for communication with Vela&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_TOKEN&lt;/code>&lt;br>&lt;code>BUILD_SUMMARY_TOKEN&lt;/code>&lt;br>&lt;code>VELA_NETRC_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: build-summary
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-build-summary:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ build_summary_token ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ parameters:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: Captain's Log</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/captains_log/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/captains_log/</guid><description>
&lt;h2 id="overview">Overview&lt;/h2>
&lt;p>The &lt;a href="https://github.com/target/captains-log">Captain&amp;rsquo;s Log&lt;/a> plugin enables the ability to manage release logs through slack in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/target/captains-log">https://github.com/target/captains-log&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/captains-log">https://hub.docker.com/r/target/captains-log&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Basic Usage&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">captains-log&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/captains-log:1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">GITHUB_TOKEN, SLACK_URL]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">github_owner&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">github_repo&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">captains-log&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">github_tag_id&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;v([0-9]+-release)$&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">enterprise_host&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://git.myteam.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">jira_team_domain&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">myteamnamespace&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Utilize &amp;ldquo;teams&amp;rdquo; organization:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">captains-log&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/captains-log:1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">GITHUB_TOKEN, SLACK_URL]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">github_owner&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">github_repo&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">captains-log&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">github_tag_id&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;v([0-9]+-release)$&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">enterprise_host&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://git.myteam.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">jira_team_domain&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">myteamnamespace&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">teams&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Team1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">color&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;#FFDC18&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">emoji&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;✨&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mentions&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;lt;@person1&amp;gt; &amp;lt;@person2&amp;gt;&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">issueTracking&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">jira&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">projects&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">TEAM1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">TEAM1SUBGROUP&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Team2&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">color&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;#F48642&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">emoji&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;🔥&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mentions&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;lt;@person3&amp;gt;&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">issueTracking&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">jira&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">projects&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">TEAM2&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;div class="alert alert-warning" role="alert">
Users should refrain from configuring sensitive information in their pipeline in plain text.
&lt;/div>
&lt;p>The plugin accepts the following &lt;code>parameters&lt;/code> for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Environment Variable Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>github_token&lt;/code>&lt;/td>
&lt;td>&lt;code>GITHUB_TOKEN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>slack_token&lt;/code>&lt;/td>
&lt;td>&lt;code>SLACK_URL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>slack_url&lt;/code>&lt;/td>
&lt;td>&lt;code>SLACK_TOKEN&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/docs/tour/secrets/">Vela secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: captains-log
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/captains-log:1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ github_token, slack_url ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> github_owner: target
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> github_repo: captains-log
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> github_tag_id: &amp;#34;v([0-9]+-release)$&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> enterprise_host: https://git.myteam.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> jira_team_domain: myteamnamespace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- github_token: superSecretToken
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- slack_url: https://hooks.slack.com/services/super/secret/url
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;p>This example will add the &lt;code>secrets&lt;/code> to the &lt;code>captains-log&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>GITHUB_TOKEN&lt;/code>=&lt;value>&lt;/li>
&lt;li>&lt;code>SLACK_URL&lt;/code>=&lt;value>&lt;/li>
&lt;/ul>
&lt;/div>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;p>For more on configuration options, visit the Captain&amp;rsquo;s Log documentation.&lt;/p>
&lt;p>&lt;a href="https://target.github.io/captains-log/#/configuration/">https://target.github.io/captains-log/#/configuration/&lt;/a>&lt;/p></description></item><item><title>Plugins: Docker</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/docker/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/docker/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to build and publish &lt;a href="https://www.docker.com/">Docker&lt;/a> images in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-docker">https://github.com/go-vela/vela-docker&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-docker">https://hub.docker.com/r/target/vela-docker&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Samples of building and publishing an image:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">publish_hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-docker:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">registry&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">index.docker.io&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">repo&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">octocat/hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">tags&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">latest ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">publish_hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-docker:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">registry&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">index.docker.io&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">tags&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">index.docker.io/octocat/hello-world:latest ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> The two above samples are functionally equivalent.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of building an image without publishing:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish hello world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-docker:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ dry_run: true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tags: [ latest ]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building and publishing an image with custom tags:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish hello world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-docker:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- tags: [ latest ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span>&lt;span style="color:#00a000">+ tags:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - latest
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - octocat/hello-world:1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - index.docker.io/octocat/hello-world:foobar
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building and publishing an image with build arguments:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish hello world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-docker:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ build_args:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - FOO=bar
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tags: [ latest ]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building and publishing an image with image caching:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-docker:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ cache_from: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tags: [ latest ]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building and publishing with custom daemon settings:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-docker:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ daemon:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ registry_mirrors: mirror.index.docker.io
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tags: [ latest ]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-docker:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ docker_username, docker_password ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tags: [ latest ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secrets to the &lt;code>publish_hello-world&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>DOCKER_USERNAME=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>DOCKER_PASSWORD=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/docker/password&lt;/code>, &lt;code>/vela/secrets/docker/password&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/docker/username&lt;/code>, &lt;code>/vela/secrets/docker/username&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-docker:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tags: [ latest ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret values in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;p>By default &lt;a href="https://docs.docker.com/develop/develop-images/build_enhancements/">build kit&lt;/a> is on; it can be turned off by setting &lt;code>DOCKER_BUILDKIT=0&lt;/code> in the environment.&lt;/p>
&lt;p>The &lt;code>key.key&lt;/code> syntax signifies a new yaml object within the definition.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>add_hosts&lt;/code>&lt;/td>
&lt;td>set a custom host-to-IP mapping - format (host:ip)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_ADD_HOSTS&lt;/code>&lt;br>&lt;code>DOCKER_ADD_HOSTS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>build_args&lt;/code>&lt;/td>
&lt;td>set variables to pass to the image at build-time&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_BUILD_ARGS&lt;/code>&lt;br>&lt;code>DOCKER_BUILD_ARGS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cache_from&lt;/code>&lt;/td>
&lt;td>set of images to consider as cache sources&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_CACHE_FROM&lt;/code>&lt;br>&lt;code>DOCKER_CACHE_FROM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cgroup_parent&lt;/code>&lt;/td>
&lt;td>set a parent cgroup for the container&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_CGROUP_PARENT&lt;/code>&lt;br>&lt;code>DOCKER_CGROUP_PARENT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>compress&lt;/code>&lt;/td>
&lt;td>enable compressing the build context using gzip&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_COMPRESS&lt;/code>&lt;br>&lt;code>DOCKER_COMPRESS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>context&lt;/code>&lt;/td>
&lt;td>set of files and/or directory to build the image from&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>.&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CONTEXT&lt;/code>&lt;br>&lt;code>DOCKER_CONTEXT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cpu&lt;/code>&lt;/td>
&lt;td>set the cpu parameter, see &lt;a href="#cpu">cpu&lt;/a> settings below&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_CPU&lt;/code>&lt;br>&lt;code>DOCKER_CPU&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>daemon&lt;/code>&lt;/td>
&lt;td>set the daemon parameter, see &lt;a href="#daemon">daemon&lt;/a> settings below&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_DAEMON&lt;/code>&lt;br>&lt;code>DOCKER_DAEMON&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>disable_content_trust&lt;/code>&lt;/td>
&lt;td>enable skipping verification of the image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DISABLE_CONTENT_TRUST&lt;/code>&lt;br>&lt;code>DOCKER_DISABLE_CONTENT_TRUST&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dry_run&lt;/code>&lt;/td>
&lt;td>enable building the image without publishing&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DRY_RUN&lt;/code>&lt;br>&lt;code>DOCKER_DRY_RUN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>file&lt;/code>&lt;/td>
&lt;td>set the name of the Dockerfile&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_FILE&lt;/code>&lt;br>&lt;code>DOCKER_FILE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>force_rm&lt;/code>&lt;/td>
&lt;td>enable always removing the intermediate containers after a successful build&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FORCE_RM&lt;/code>&lt;br>&lt;code>DOCKER_FORCE_RM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>image_id_file&lt;/code>&lt;/td>
&lt;td>set the file to write the image ID to&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_IMAGE_ID_FILE&lt;/code>&lt;br>&lt;code>DOCKER_IMAGE_ID_FILE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>isolation&lt;/code>&lt;/td>
&lt;td>set container isolation technology&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_ISOLATION&lt;/code>&lt;br>&lt;code>DOCKER_ISOLATION&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>labels&lt;/code>&lt;/td>
&lt;td>set metadata for an image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_LABELS&lt;/code>&lt;br>&lt;code>DOCKER_LABELS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>DOCKER_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>memory&lt;/code>&lt;/td>
&lt;td>set memory limit&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_MEMORY&lt;/code>&lt;br>&lt;code>DOCKER_MEMORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>memory_swaps&lt;/code>&lt;/td>
&lt;td>set the swap limit equal to memory plus swap: &amp;lsquo;-1&amp;rsquo; to enable unlimited swap&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_MEMORY_SWAPS&lt;/code>&lt;br>&lt;code>DOCKER_MEMORY_SWAPS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>network&lt;/code>&lt;/td>
&lt;td>set the networking mode for the RUN instructions during build&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_NETWORK&lt;/code>&lt;br>&lt;code>DOCKER_NETWORK&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>no_cache&lt;/code>&lt;/td>
&lt;td>disable caching when building the image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_NO_CACHE&lt;/code>&lt;br>&lt;code>DOCKER_NO_CACHE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>output&lt;/code>&lt;/td>
&lt;td>set the output destination - format (type=local,dest=path)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_OUTPUTS&lt;/code>&lt;br>&lt;code>DOCKER_OUTPUTS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>set password for communication with the registry&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>DOCKER_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>platform&lt;/code>&lt;/td>
&lt;td>set a platform if server is multi-platform capable&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_PLATFORM&lt;/code>&lt;br>&lt;code>DOCKER_PLATFORM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>progress&lt;/code>&lt;/td>
&lt;td>set type of progress output - options (auto|plain|tty)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_PROGRESS&lt;/code>&lt;br>&lt;code>DOCKER_PROGRESS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>pull&lt;/code>&lt;/td>
&lt;td>enable always attempting to pull a newer version of the image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PULL&lt;/code>&lt;br>&lt;code>DOCKER_PULL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>quiet&lt;/code>&lt;/td>
&lt;td>enable suppressing the build output and print image ID on success&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_QUIET&lt;/code>&lt;br>&lt;code>DOCKER_QUIET&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>registry&lt;/code>&lt;/td>
&lt;td>set Docker registry address to communicate with&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>index.docker.io&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REGISTRY&lt;/code>&lt;br>&lt;code>DOCKER_REGISTRY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>remove&lt;/code>&lt;/td>
&lt;td>enable removing the intermediate containers after a successful build&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REMOVE&lt;/code>&lt;br>&lt;code>DOCKER_REMOVE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>repo&lt;/code>&lt;/td>
&lt;td>set Docker repository for the image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_REPO&lt;/code>&lt;br>&lt;code>DOCKER_REPO&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>secret&lt;/code>&lt;/td>
&lt;td>set secret file to expose to the build (only if BuildKit enabled) - format (id=mysecret,src=https://go-vela.github.io/docs/local/secret)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_SECRETS&lt;/code>&lt;br>&lt;code>DOCKER_SECRETS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>security_opts&lt;/code>&lt;/td>
&lt;td>set options for security&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_SECURITY_OPTS&lt;/code>&lt;br>&lt;code>DOCKER_SECURITY_OPTS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>shm_sizes&lt;/code>&lt;/td>
&lt;td>set the size of /dev/shm&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_SHM_SIZES&lt;/code>&lt;br>&lt;code>DOCKER_SHM_SIZES&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>squash&lt;/code>&lt;/td>
&lt;td>enable squashing newly built layers into a single new layer&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SQUASH&lt;/code>&lt;br>&lt;code>DOCKER_SQUASH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ssh_components&lt;/code>&lt;/td>
&lt;td>set SSH agent socket or keys to expose to the build (only if BuildKit enabled) - format (default|&lt;id>[=&lt;socket>|&lt;key>[,&lt;key>]])&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_SSH_COMPONENTS&lt;/code>&lt;br>&lt;code>DOCKER_SSH_COMPONENTS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>stream&lt;/code>&lt;/td>
&lt;td>enable stream attaching to the server to negotiate build context&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_STREAM&lt;/code>&lt;br>&lt;code>DOCKER_STREAM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tags&lt;/code>&lt;/td>
&lt;td>set the tags for the Docker image - format (name:tag)&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_TAGS&lt;/code>&lt;br>&lt;code>DOCKER_TAGS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target&lt;/code>&lt;/td>
&lt;td>set the target build stage to build&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET&lt;/code>&lt;br>&lt;code>DOCKER_TARGET&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ulimits&lt;/code>&lt;/td>
&lt;td>set options for ulimits&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_ULIMITS&lt;/code>&lt;br>&lt;code>DOCKER_ULIMITS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>set user name for communication with the registry&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>&lt;br>&lt;code>DOCKER_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="cpu">CPU&lt;/h3>
&lt;p>The following settings are used to configure the &lt;code>cpu&lt;/code> parameter:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>period&lt;/code>&lt;/td>
&lt;td>set limit on the CPU CFS (Completely Fair Scheduler) period&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>quota&lt;/code>&lt;/td>
&lt;td>set limit on the CPU CFS (Completely Fair Scheduler) quota&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>shares&lt;/code>&lt;/td>
&lt;td>set CPU shares (relative weight)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>set_cpus&lt;/code>&lt;/td>
&lt;td>set CPUs in which to allow execution (0-3, 0,1)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>set_mems&lt;/code>&lt;/td>
&lt;td>set MEMs in which to allow execution (0-3, 0,1)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="daemon">Daemon&lt;/h3>
&lt;p>The following settings are used to configure the &lt;code>daemon&lt;/code> parameter:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>bip&lt;/code>&lt;/td>
&lt;td>set a network bridge IP&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dns&lt;/code>&lt;/td>
&lt;td>set the DNS settings, see &lt;a href="#dns">dns&lt;/a> settings below&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>experimental&lt;/code>&lt;/td>
&lt;td>enable experimental features&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>insecure_registries&lt;/code>&lt;/td>
&lt;td>set the insecure Docker registries&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ipv6&lt;/code>&lt;/td>
&lt;td>enable IPv6 networking&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mtu&lt;/code>&lt;/td>
&lt;td>set the network MTU for the contain&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>registry_mirrors&lt;/code>&lt;/td>
&lt;td>set the Docker registry mirrors&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>storage&lt;/code>&lt;/td>
&lt;td>set the storage settings, see &lt;a href="#storage">storage&lt;/a> settings below&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="dns">DNS&lt;/h3>
&lt;p>The following settings are used to configure the &lt;code>dns daemon&lt;/code> setting:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>servers&lt;/code>&lt;/td>
&lt;td>set the DNS nameservers&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>searches&lt;/code>&lt;/td>
&lt;td>set the DNS search domains&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="storage">Storage&lt;/h3>
&lt;p>The following settings are used to configure the &lt;code>storage daemon&lt;/code> setting:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>driver&lt;/code>&lt;/td>
&lt;td>set the storage driver for the daemon&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>opts&lt;/code>&lt;/td>
&lt;td>set the storage options for the daemon&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>N/A&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-docker:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> tags: [ latest ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: Downstream</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/downstream/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/downstream/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to trigger builds for other repos for &lt;a href="https://go-vela.github.io/docs/">Vela&lt;/a> in a pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-downstream">https://github.com/go-vela/vela-downstream&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-downstream">https://hub.docker.com/r/target/vela-downstream&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of triggering a downstream build:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">trigger_hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-downstream:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">repos&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">octocat/hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">server&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://vela-server.localhost&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of triggering a downstream build for a specific branch:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: trigger_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-downstream:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ branch: main
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> repos:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> server: https://vela-server.localhost
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of triggering a downstream build for a specific event:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: trigger_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-downstream:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ event: tag
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> repos:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> server: https://vela-server.localhost
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of triggering a downstream build for a specific status:&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>You can provide a list of statuses to the plugin.&lt;/p>
&lt;p>The first build found matching either of the statuses will be triggered.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: trigger_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-downstream:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repos:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> server: https://vela-server.localhost
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ status: [ success, failure ]
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of triggering a downstream build for multiple repos:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: trigger_multiple
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-downstream:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repos:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - go-vela/hello-world
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> server: https://vela-server.localhost
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of triggering a downstream build for multiple repos with different branches:&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Use the @ symbol at the end of the org/repo to provide a unique branch per repo.&lt;/p>
&lt;p>This will override the value set for the &lt;code>branch&lt;/code> parameter.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: trigger_multiple
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-downstream:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repos:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- - octocat/hello-world
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span>&lt;span style="color:#00a000">+ - octocat/hello-world@test
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span>&lt;span style="color:#a40000">- - go-vela/hello-world
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span>&lt;span style="color:#00a000">+ - go-vela/hello-world@stage
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> server: https://vela-server.localhost
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: trigger_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-downstream:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ downstream_token ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repos:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> server: https://vela-server.localhost
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- token: superSecretVelaToken
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secret to the &lt;code>trigger_hello-world&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>DOWNSTREAM_TOKEN=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>token&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/downstream/token&lt;/code>, &lt;code>/vela/secrets/downstream/token&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: trigger_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-downstream:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repos:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> server: https://vela-server.localhost
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- token: superSecretVelaToken
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret value in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>branch&lt;/code>&lt;/td>
&lt;td>branch to trigger a build on&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_BRANCH&lt;/code>&lt;br>&lt;code>DOWNSTREAM_BRANCH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>event&lt;/code>&lt;/td>
&lt;td>event to trigger a build on&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>push&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_EVENT&lt;/code>&lt;br>&lt;code>DOWNSTREAM_EVENT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>DOWNSTREAM_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>repos&lt;/code>&lt;/td>
&lt;td>list of &lt;org>/&lt;repo> names to trigger a build on&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REPOS&lt;/code>&lt;br>&lt;code>DOWNSTREAM_REPOS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>server&lt;/code>&lt;/td>
&lt;td>Vela server to communicate with&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SERVER&lt;/code>&lt;br>&lt;code>DOWNSTREAM_SERVER&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>status&lt;/code>&lt;/td>
&lt;td>list of statuses to trigger a build on&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>[ success ]&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_STATUS&lt;/code>&lt;br>&lt;code>DOWNSTREAM_STATUS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>token&lt;/code>&lt;/td>
&lt;td>token for communication with Vela&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TOKEN&lt;/code>&lt;br>&lt;code>DOWNSTREAM_TOKEN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>report_back&lt;/code>&lt;/td>
&lt;td>whether or not to track downstream build status&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REPORT_BACK&lt;/code>&lt;br>&lt;code>DOWNSTREAM_REPORT_BACK&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target_status&lt;/code>&lt;/td>
&lt;td>list of statuses to look for from downstream builds&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>[ success ]&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET_STATUS&lt;/code>&lt;br>&lt;code>DOWNSTREAM_TARGET_STATUS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>timeout&lt;/code>&lt;/td>
&lt;td>how long should the plugin wait for downstream builds&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>30m&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TIMEOUT&lt;/code>&lt;br>&lt;code>DOWNSTREAM_TIMEOUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>continue_on_not_found&lt;/code>&lt;/td>
&lt;td>continue triggering builds on failure to find one&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CONTINUE_ON_NOT_FOUND&lt;/code>&lt;br>&lt;code>DOWNSTREAM_CONTINUE_ON_NOT_FOUND&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: trigger_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-downstream:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> repos:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> server: https://vela-server.localhost
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: Email</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/email/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/email/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to send data to an email.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-email">https://github.com/go-vela/vela-email&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-email">https://hub.docker.com/r/target/vela-email&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;h3 id="sample-for-velayml">Sample for .vela.yml&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">username&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">engine&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">native&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">vela/noreply/username&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">shared&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">password&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">engine&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">native&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">vela/noreply/password&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">shared&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">email on success&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-email:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">not_present&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">username, password]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">status&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">success&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">from&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">vela-noreply@fakemail.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">to&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">one@email.com, two@email.com]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sendtype&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">StartTLS&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">auth&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">LoginAuth&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">host&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">smtp.youremailserver.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">port&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">587&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">subject&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;{{ .VELA_BUILD_COMMIT }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">text&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Author: {{ .VELA_BUILD_AUTHOR }} - Branch: {{ .VELA_BUILD_BRANCH }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">email on failure&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-email:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">not_present&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">username, password]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">status&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">failure&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">from&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">vela-noreply@fakemail.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">to&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">one@email.com, two@email.com]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sendtype&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">StartTLS&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">auth&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">LoginAuth&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">host&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">smtp.youremailserver.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">port&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">587&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">subject&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;{{ .VELA_BUILD_COMMIT }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">text&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Author: {{ .VELA_BUILD_AUTHOR }} - Branch: {{ .VELA_BUILD_BRANCH }}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="sample-for-velayml-with-attachment">Sample for .vela.yml with attachment&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">username&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">engine&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">native&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">vela/noreply/username&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">shared&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">password&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">engine&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">native&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">vela/noreply/password&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">shared&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">email on success&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-email:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">not_present&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">username, password]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">status&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">success&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">filename&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">&amp;lt;filename&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sendtype&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">StartTLS&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">auth&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">LoginAuth&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">host&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">smtp.youremailserver.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">port&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">587&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">email on failure&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-email:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">not_present&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">username, password]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">status&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">failure&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">filename&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">&amp;lt;filename&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sendtype&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">StartTLS&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">auth&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">LoginAuth&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">host&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">smtp.youremailserver.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">port&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">587&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="sample-for-email-attachment">Sample for email attachment&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>From: vela-noreply@fakemail.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>To: emailone@email.com, emailtwo@email.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Subject: Vela Pipeline for {{ .VELA_REPO_FULL_NAME }} {{ .VELA_BUILD_BRANCH }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Content-Type: text/plain
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>BuildAuthor: {{ .VELA_BUILD_AUTHOR }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>BuildAuthorEmail: {{ .VELA_BUILD_AUTHOR_EMAIL }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>BuildBranch: {{ .VELA_BUILD_BRANCH }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>BuildCommit: {{ .VELA_BUILD_COMMIT }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>BuildCreated: {{ .BuildCreated }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>BuildMessage: {{ .VELA_BUILD_MESSAGE }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>BuildNumber: {{ .VELA_BUILD_NUMBER }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RepositoryFullName: {{ .VELA_REPO_FULL_NAME }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>RepositoryLink: {{ .VELA_REPO_LINK }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>The plugin accepts the following &lt;code>parameters&lt;/code> for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Environment Variable Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>, &lt;code>USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>, &lt;code>PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: email
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-email:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ username, password ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: usernameexample@email.com
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secret to the &lt;code>email&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>USERNAME=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/email/username&lt;/code>, &lt;code>/vela/secrets/email/username&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/email/password&lt;/code>, &lt;code>/vela/secrets/email/password&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: email
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-email:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: usernameexample@email.com
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret value in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;p>VELA environments can be found at &lt;a href="https://go-vela.github.io/docs/reference/environment/">VELA Environments&lt;/a>&lt;/p>
&lt;p>All environment variables are wrapped in sprig template. More information on sprig can be found at &lt;a href="http://masterminds.github.io/sprig/">sprig docs&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;h3 id="logging">Logging&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin (valid options: &lt;code>info&lt;/code>, &lt;code>debug&lt;/code>, &lt;code>trace&lt;/code>)&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>EMAIL_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="email">Email&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>from&lt;/code>&lt;/td>
&lt;td>who the email is being sent from&lt;/td>
&lt;td>true&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_FROM&lt;/code>&lt;br>&lt;code>EMAIL_FROM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>to&lt;/code>&lt;/td>
&lt;td>who the email is being sent to&lt;/td>
&lt;td>true&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_TO&lt;/code>&lt;br>&lt;code>EMAIL_TO&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cc&lt;/code>&lt;/td>
&lt;td>carbon copy of the email to be sent to&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_CC&lt;/code>&lt;br>&lt;code>EMAIL_CC&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>bcc&lt;/code>&lt;/td>
&lt;td>blind carbon copy of the email to be sent to&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_BCC&lt;/code>&lt;br>&lt;code>EMAIL_BCC&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sender&lt;/code>&lt;/td>
&lt;td>who the email being sent from (will overwrite from)&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_SENDER&lt;/code>&lt;br>&lt;code>EMAIL_SENDER&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>replyto&lt;/code>&lt;/td>
&lt;td>email address that will be used for replies&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_REPLYTO&lt;/code>&lt;br>&lt;code>EMAIL_REPLYTO&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>subject&lt;/code>&lt;/td>
&lt;td>subject of the email&lt;/td>
&lt;td>false&lt;/td>
&lt;td>default subject&lt;/td>
&lt;td>&lt;code>PARAMETER_SUBJECT&lt;/code>&lt;br>&lt;code>EMAIL_SUBJECT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>text&lt;/code>&lt;/td>
&lt;td>body of the email in plain text format (HTML will overwrite TEXT)&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_TEXT&lt;/code>&lt;br>&lt;code>EMAIL_TEXT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>html&lt;/code>&lt;/td>
&lt;td>body of the email in hmtl format (HTML will overwrite TEXT)&lt;/td>
&lt;td>false&lt;/td>
&lt;td>default html body&lt;/td>
&lt;td>&lt;code>PARAMETER_HTML&lt;/code>&lt;br>&lt;code>EMAIL_HTML&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>readreceipt&lt;/code>&lt;/td>
&lt;td>delivery confirmation&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_READRECEIPT&lt;/code>&lt;br>&lt;code>EMAIL_READRECEIPT&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The parameters To, CC, BCC and ReplyTo accepts an array of emails in the format of:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>[ one@email.com, two@email.com ] or&lt;/p>
&lt;/li>
&lt;li>
&lt;p>[ firstname lastname &amp;lt;one@email.com&amp;gt;, firstname lastname &amp;lt;two@email.com&amp;gt; ]&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Subject, Text body, and HTML body will accept VELA environments with the use of {{ }} such as:&lt;/p>
&lt;ul>
&lt;li>&lt;code>{{ .VELA_REPO_FULL_NAME }}&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="attachment">Attachment&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>attachment&lt;/code>&lt;/td>
&lt;td>file will be attached to email&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_ATTACHMENT&lt;/code>&lt;br>&lt;code>EMAIL_ATTACHMENT&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="email-filename">Email Filename&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>filename&lt;/code>&lt;/td>
&lt;td>data in attached file will be used to populate the email.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_FILENAME&lt;/code>&lt;br>&lt;code>EMAIL_FILENAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="smtp">SMTP&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>host&lt;/code>&lt;/td>
&lt;td>SMTP host&lt;/td>
&lt;td>true&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_HOST&lt;/code>&lt;br>&lt;code>EMAIL_HOST&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>port&lt;/code>&lt;/td>
&lt;td>SMTP port&lt;/td>
&lt;td>true&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_PORT&lt;/code>&lt;br>&lt;code>EMAIL_PORT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>SMTP username&lt;/td>
&lt;td>true&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>&lt;br>&lt;code>EMAIL_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>SMTP password&lt;/td>
&lt;td>true&lt;/td>
&lt;td>N/A&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>EMAIL_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="tls">TLS&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>servername&lt;/code>&lt;/td>
&lt;td>default is set to host address of SMTP server&lt;/td>
&lt;td>false&lt;/td>
&lt;td>SMTP host&lt;/td>
&lt;td>&lt;code>PARAMETER_SERVERNAME&lt;/code>&lt;br>&lt;code>EMAIL_SERVERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>insecureskipverify&lt;/code>&lt;/td>
&lt;td>verification of the server&amp;rsquo;s certificate chain and host name. Only use true for testing purposes as this makes TLS susceptible to man-in-middle attacks.&lt;/td>
&lt;td>false&lt;/td>
&lt;td>false&lt;/td>
&lt;td>&lt;code>PARAMETER_SKIPVERIFY&lt;/code>&lt;br>&lt;code>EMAIL_SKIPVERIFY&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="encryption">Encryption&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>sendtype&lt;/code>&lt;/td>
&lt;td>security to send email (valid option: &lt;code>Plain&lt;/code>, &lt;code>StartTLS&lt;/code>, &lt;code>TLS&lt;/code>)&lt;/td>
&lt;td>true&lt;/td>
&lt;td>StartTLS&lt;/td>
&lt;td>&lt;code>PARAMETER_SENDTYPE&lt;/code>&lt;br>&lt;code>EMAIL_SENDTYPE&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="authentication">Authentication&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>auth&lt;/code>&lt;/td>
&lt;td>login authentication (valid option: &lt;code>PlainAuth&lt;/code>, &lt;code>LoginAuth&lt;/code>)&lt;/td>
&lt;td>true&lt;/td>
&lt;td>LoginAuth&lt;/td>
&lt;td>&lt;code>PARAMETER_AUTH&lt;/code>&lt;br>&lt;code>EMAIL_AUTH&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>PlainAuth using smtp/auth login for SMTP server.&lt;/p>
&lt;p>LoginAuth using a custom login for Office 365/Exchange SMTP server.&lt;/p>
&lt;/blockquote>
&lt;h2 id="variables">Variables&lt;/h2>
&lt;p>The Plugin provides the following User friendly timestamp variables that can be used in a subject, text, HTML template.
These timestamps are converted to Unix timestamps in UTC.&lt;/p>
&lt;ul>
&lt;li>BuildCreated&lt;/li>
&lt;li>BuildEnqueued&lt;/li>
&lt;li>BuildFinished&lt;/li>
&lt;li>BuildStarted&lt;/li>
&lt;/ul>
&lt;h2 id="defaults">Defaults&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>
Context-Type options are as follow:&lt;/p>
&lt;ul>
&lt;li>text/html for HTML based body of message.&lt;/li>
&lt;li>text/plain for TEXT based body of message.&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="default-subject">Default subject&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-text" data-lang="text">&lt;span style="display:flex;">&lt;span>{{ .VELA_REPO_FULL_NAME }} {{ .VELA_BUILD_BRANCH }} - {{ .VELA_BUILD_COMMIT }}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="default-body-in-html">Default body in HTML&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-html" data-lang="html">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">table&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tbody&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span> &lt;span style="color:#c4a000">width&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;600&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">div&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">table&lt;/span> &lt;span style="color:#c4a000">width&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;100%&amp;#34;&lt;/span> &lt;span style="color:#c4a000">cellspacing&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;0&amp;#34;&lt;/span> &lt;span style="color:#c4a000">cellpadding&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tbody&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">table&lt;/span> &lt;span style="color:#c4a000">width&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;100%&amp;#34;&lt;/span> &lt;span style="color:#c4a000">cellspacing&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;0&amp;#34;&lt;/span> &lt;span style="color:#c4a000">cellpadding&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tbody&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>Build Number:&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">a&lt;/span> &lt;span style="color:#c4a000">href&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;{{ .VELA_BUILD_LINK }}&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {{ .VELA_BUILD_NUMBER }}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">a&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>Repo:&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>{{ .VELA_REPO_FULL_NAME }}&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>Author:&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> {{ .VELA_BUILD_AUTHOR }} ({{ .VELA_BUILD_AUTHOR_EMAIL
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> }})
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>Branch:&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>{{ .VELA_BUILD_BRANCH }}&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>Commit:&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>{{ .VELA_BUILD_COMMIT }}&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>Started at:&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>{{ .BuildCreated }}&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tbody&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">table&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">hr&lt;/span> &lt;span style="color:#000;font-weight:bold">/&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">table&lt;/span> &lt;span style="color:#c4a000">width&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;100%&amp;#34;&lt;/span> &lt;span style="color:#c4a000">cellspacing&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;0&amp;#34;&lt;/span> &lt;span style="color:#c4a000">cellpadding&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tbody&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>{{ .VELA_BUILD_MESSAGE }}&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tbody&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">table&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tbody&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">table&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">div&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">td&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tr&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">tbody&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">&amp;lt;/&lt;/span>&lt;span style="color:#204a87;font-weight:bold">table&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: send email
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-email:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> ...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: Git</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/git/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/git/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> This plugin is automatically injected into your pipeline for the source repository.&lt;/p>
&lt;/blockquote>
&lt;p>This plugin enables you to clone repositories in a Vela pipeline to your build workspace.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-git">https://github.com/go-vela/vela-git&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-git">https://hub.docker.com/r/target/vela-git&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of cloning a repository:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">clone_hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-git:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ref&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">refs/heads/master&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">remote&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://github.com/octocat/hello-world.git&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">sha&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">7fd1a60b01f91b314f59955a4e4d4e80d8edf11d&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of cloning a repository with submodules:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: clone_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-git:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path: hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ref: refs/heads/master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> remote: https://github.com/octocat/hello-world.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sha: 7fd1a60b01f91b314f59955a4e4d4e80d8edf11d
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ submodules: true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of cloning a repository with tags:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: clone_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-git:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> path: hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ref: refs/heads/master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> remote: https://github.com/octocat/hello-world.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sha: 7fd1a60b01f91b314f59955a4e4d4e80d8edf11d
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ tags: true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: clone_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-git:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ git_username, git_password ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span> path: /home/octocat_hello-world_1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ref: refs/heads/master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> remote: https://github.com/octocat/hello-world.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sha: 7fd1a60b01f91b314f59955a4e4d4e80d8edf11d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secrets to the &lt;code>clone_hello-world&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>GIT_USERNAME=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>GIT_PASSWORD=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/git/password&lt;/code>, &lt;code>/vela/secrets/git/password&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/git/username&lt;/code>, &lt;code>/vela/secrets/git/username&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: clone_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-git:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span> path: /home/octocat_hello-world_1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ref: refs/heads/master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> remote: https://github.com/octocat/hello-world.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sha: 7fd1a60b01f91b314f59955a4e4d4e80d8edf11d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret values in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>branch&lt;/code>&lt;/td>
&lt;td>initial branch to clone from repository&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>master&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_BRANCH&lt;/code>&lt;br>&lt;code>GIT_BRANCH&lt;/code>&lt;br>&lt;code>VELA_PULL_REQUEST_SOURCE&lt;/code>&lt;br>&lt;code>VELA_BUILD_BRANCH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>GIT_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>machine&lt;/code>&lt;/td>
&lt;td>machine name to communicate with&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>github.com&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_MACHINE&lt;/code>&lt;br>&lt;code>GIT_MACHINE&lt;/code>&lt;br>&lt;code>VELA_NETRC_MACHINE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>password for authentication&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>GIT_PASSWORD&lt;/code>&lt;br>&lt;code>VELA_NETRC_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>user name for authentication&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>&lt;br>&lt;code>GIT_USERNAME&lt;/code>&lt;br>&lt;code>VELA_NETRC_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>path&lt;/code>&lt;/td>
&lt;td>local path to clone repository to&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_PATH&lt;/code>&lt;br>&lt;code>GIT_PATH&lt;/code>&lt;br>&lt;code>VELA_BUILD_WORKSPACE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ref&lt;/code>&lt;/td>
&lt;td>reference generated for commit&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>refs/heads/master&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REF&lt;/code>&lt;br>&lt;code>GIT_REF&lt;/code>&lt;br>&lt;code>VELA_BUILD_REF&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>remote&lt;/code>&lt;/td>
&lt;td>full url for cloning repository&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_REMOTE&lt;/code>&lt;br>&lt;code>GIT_REMOTE&lt;/code>&lt;br>&lt;code>VELA_REPO_CLONE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sha&lt;/code>&lt;/td>
&lt;td>SHA-1 hash generated for commit&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_SHA&lt;/code>&lt;br>&lt;code>GIT_SHA&lt;/code>&lt;br>&lt;code>VELA_BUILD_COMMIT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>submodules&lt;/code>&lt;/td>
&lt;td>enables fetching of submodules&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SUBMODULES&lt;/code>&lt;br>&lt;code>GIT_SUBMODULES&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tags&lt;/code>&lt;/td>
&lt;td>enables fetching of tags&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TAGS&lt;/code>&lt;br>&lt;code>GIT_TAGS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>depth&lt;/code>&lt;/td>
&lt;td>enables fetching with a specific depth&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>100&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DEPTH&lt;/code>&lt;br>&lt;code>GIT_DEPTH&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: clone_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-git:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> path: hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ref: refs/heads/master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> remote: https://github.com/octocat/hello-world.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> sha: 7fd1a60b01f91b314f59955a4e4d4e80d8edf11d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: Hugo</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/hugo/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/hugo/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you generate a static website using &lt;a href="https://gohugo.io/">Hugo&lt;/a> in a pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-hugo">https://github.com/go-vela/vela-hugo&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-hugo">https://hub.docker.com/r/target/vela-hugo&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of building a site:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">hugo&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-hugo:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">theme_name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">hugo-theme-learn&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building a site using the &lt;code>docsy&lt;/code> theme:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: hugo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-hugo:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- theme_name: hugo-theme-learn
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span>&lt;span style="color:#00a000">+ theme_name: docsy
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building a site using a custom version of Hugo:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: hugo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-hugo:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> theme_name: hugo-theme-learn
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ version: 0.101.0
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building a site using the extended &lt;code>hugo&lt;/code> binary:&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Some themes may require the extended binary for additional functionality.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: hugo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-hugo:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> theme_name: hugo-theme-learn
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ extended: true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of using an environment to build the site differently depending on configuration:&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Please see &lt;a href="https://gohugo.io/getting-started/configuration/">Hugo documentation&lt;/a> for how to configure this properly.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: hugo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-hugo:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> theme_name: hugo-theme-learn
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ environment: dev
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of using multiple themes via configuration file:&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Please see &lt;a href="https://gohugo.io/hugo-modules/theme-components/#readout">Hugo documentation&lt;/a> for how to configure this properly.&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">hugo&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-hugo:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">config_file&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">config.toml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>base_url&lt;/code>&lt;/td>
&lt;td>hostname (and path) to the root, e.g. &lt;a href="http://spf13.com/">http://spf13.com/&lt;/a>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_BASE_URL&lt;/code>&lt;br>&lt;code>HUGO_BASE_URL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cache_directory&lt;/code>&lt;/td>
&lt;td>filesystem path to cache directory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CACHE_DIRECTORY&lt;/code>&lt;br>&lt;code>HUGO_CACHE_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>content_directory&lt;/code>&lt;/td>
&lt;td>filesystem path to content directory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CONTENT_DIRECTORY&lt;/code>&lt;br>&lt;code>HUGO_CONTENT_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>config_directory&lt;/code>&lt;/td>
&lt;td>filesystem path to config directory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>config&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CONFIG_DIRECTORY&lt;/code>&lt;br>&lt;code>HUGO_CONFIG_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>config_file&lt;/code>&lt;/td>
&lt;td>config file to use from config directory (supports: &lt;code>json&lt;/code>,&lt;code>toml&lt;/code>,&lt;code>yaml&lt;/code>)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CONFIG_FILE&lt;/code>&lt;br>&lt;code>HUGO_CONFIG_FILE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>draft&lt;/code>&lt;/td>
&lt;td>include content marked as draft&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DRAFT&lt;/code>&lt;br>&lt;code>HUGO_DRAFT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>environment&lt;/code>&lt;/td>
&lt;td>target build environment, located in the config directory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ENVIRONMENT&lt;/code>&lt;br>&lt;code>HUGO_ENVIRONMENT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>expired&lt;/code>&lt;/td>
&lt;td>include expired content&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_EXPIRED&lt;/code>&lt;br>&lt;code>HUGO_EXPIRED&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>extended&lt;/code>&lt;/td>
&lt;td>whether to use the extended hugo binary&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_EXTENDED&lt;/code>&lt;br>&lt;code>HUGO_EXTENDED&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>future&lt;/code>&lt;/td>
&lt;td>include content with publish date in the future&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FUTURE&lt;/code>&lt;br>&lt;code>HUGO_FUTURE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>layout_directory&lt;/code>&lt;/td>
&lt;td>filesystem path to layout directory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LAYOUT_DIRECTORY&lt;/code>&lt;br>&lt;code>HUGO_LAYOUT_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>HUGO_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>output_directory&lt;/code>&lt;/td>
&lt;td>filesystem path to write files to&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_OUTPUT_DIRECTORY&lt;/code>&lt;br>&lt;code>HUGO_OUTPUT_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>source_directory&lt;/code>&lt;/td>
&lt;td>filesystem path to read files relative from&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SOURCE_DIRECTORY&lt;/code>&lt;br>&lt;code>HUGO_SOURCE_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>theme_name&lt;/code>&lt;/td>
&lt;td>theme to use from theme directory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_THEME_NAME&lt;/code>&lt;br>&lt;code>HUGO_THEME_NAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>theme_directory&lt;/code>&lt;/td>
&lt;td>filesystem path to themes directory&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>themes&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_THEME_DIRECTORY&lt;/code>&lt;br>&lt;code>HUGO_THEME_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>version&lt;/code>&lt;/td>
&lt;td>the version of hugo the plugin should use&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>0.101.0&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VERSION&lt;/code>&lt;br>&lt;code>HUGO_VERSION&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: hugo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-hugo:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> theme_name: hugo-theme-learn
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: Influx</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/influx/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/influx/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to send data to an &lt;a href="https://www.influxdata.com/">InfluxDB&lt;/a> in a pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-influx">https://github.com/go-vela/vela-influx&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-influx">https://hub.docker.com/r/target/vela-influx&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of emitting a pass/fail build metric:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">write&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-influx:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">addr&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://influx.example.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">database&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">vela&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">build_report&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fields&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">build_status&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">${VELA_BUILD_STATUS}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of emitting a pass/fail build metric with custom tags:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: write
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-influx:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> addr: https://influx.example.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> database: vela
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> name: build_report
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fields:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> build_status: ${BUILD_STATUS}
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ tags:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ repo_name: ${VELA_REPO_FULL_NAME}
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ build_number: &amp;#34;${VELA_BUILD_NUMBER}&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>The plugin accepts the following &lt;code>parameters&lt;/code> for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Environment Variable Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>, &lt;code>INFLUX_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>, &lt;code>INFLUX_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: write
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-influx:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ influx_username, influx_password ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: superSecretUsername
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span> addr: https://influx.example.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> database: vela
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> name: build_report
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fields:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> build_status: ${VELA_BUILD_STATUS}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secret to the &lt;code>trigger_hello-world&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>DOWNSTREAM_TOKEN=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/influx/password&lt;/code>, &lt;code>/vela/secrets/influx/password&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/influx/username&lt;/code>, &lt;code>/vela/secrets/influx/username&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: write
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-influx:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: superSecretUsername
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span> addr: https://influx.example.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> database: vela
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> name: build_report
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fields:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> build_status: ${VELA_BUILD_STATUS}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret value in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>addr&lt;/code>&lt;/td>
&lt;td>Influx instance to communicate with&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ADDR&lt;/code>&lt;br>&lt;code>INFLUX_ADDR&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>database&lt;/code>&lt;/td>
&lt;td>database name on Influx instance to communicate with&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DATABASE&lt;/code>&lt;br>&lt;code>INFLUX_DATABASE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>fields&lt;/code>&lt;/td>
&lt;td>data fields to send along with the metric&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FIELDS&lt;/code>&lt;br>&lt;code>INFLUX_FIELDS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>INFLUX_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>name&lt;/code>&lt;/td>
&lt;td>name of metric sent to database on Influx instance&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>build_metrics&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_NAME&lt;/code>&lt;br>&lt;code>INFLUX_NAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>password for communication with Influx&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>INFLUX_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tags&lt;/code>&lt;/td>
&lt;td>extra metadata to send along with the metric&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TAGS&lt;/code>&lt;br>&lt;code>INFLUX_TAGS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>user name for communication with Influx&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>&lt;br>&lt;code>INFLUX_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: write
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-influx:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> addr: https://influx.example.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> database: vela
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> name: build_report
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fields:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> build_status: ${VELA_BUILD_STATUS}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: k6</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/k6/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/k6/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin uses &lt;a href="https://k6.io/">Grafana k6&lt;/a> to run performance tests in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-k6">https://github.com/go-vela/vela-k6&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-k6">https://hub.docker.com/r/target/vela-k6&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Below is a simple example using the plugin. In this hypothetical repository, the k6 test script is located at &lt;code>./k6-test/script.js&lt;/code>. In this step, a file named &lt;code>test-results.json&lt;/code> will be created in the current directory with the test results.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">k6-performance-test&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-k6:v0.1.0&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">event&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">tag]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">script_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">./k6-test/script.js&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">output_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">./test-results.json&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Example using &lt;code>projektor_compat_mode&lt;/code> parameter, which generates output with the &lt;code>--summary-export&lt;/code> flag instead of the recommended &lt;code>--out&lt;/code> flag. This ensures compatibility with &lt;a href="https://projektor.dev/">Projektor&lt;/a> test result visualization:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">k6-performance-test&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-k6:v0.1.0&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">event&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">tag]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">script_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">./k6-test/script.js&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">output_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">./test-results.json&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">projektor_compat_mode&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">projektor-publish&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">node:alpine&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">event&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">tag]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">commands&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">npm install -g projektor-publish&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">npx projektor-publish --serverUrl=https://my-projektor-server.dev --performance=&amp;#34;./test-results.json&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Projektor will not accept performance test results unless the below stats are included&lt;/p>
&lt;/blockquote>
&lt;p>For your results to be accepted by your Projektor server, the k6 script&amp;rsquo;s &lt;code>options.summaryTrendStats&lt;/code> MUST include the following:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">export&lt;/span> &lt;span style="color:#204a87;font-weight:bold">const&lt;/span> &lt;span style="color:#000">options&lt;/span> &lt;span style="color:#ce5c00;font-weight:bold">=&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">summaryTrendStats&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;p(95)&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;p(90)&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;avg&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;min&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;max&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;med&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">],&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">...&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">};&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>script_path&lt;/code>&lt;/td>
&lt;td>path to the k6 script file. must be a JavaScript file satisfying the pattern &lt;code>^(\./|(\.\./)+)?[a-zA-Z0-9-_/]*[a-zA-Z0-9]\.js$&lt;/code>.&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>output_path&lt;/code>&lt;/td>
&lt;td>path to the output file that will be created. directories will be created as necessary. if empty, no output file will be generated. must be a JSON file satisfying the pattern &lt;code>^(\./|(\.\./)+)?[a-zA-Z0-9-_/]*[a-zA-Z0-9]\.json$&lt;/code>.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>setup_script_path&lt;/code>&lt;/td>
&lt;td>path to an optional setup script file to be run before tests. must be a shell script (sh or bash) with execute permissions matching the pattern &lt;code>^(\./|(\.\./)+)?[a-zA-Z0-9-_/]*[a-zA-Z0-9]\.sh$&lt;/code>.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>fail_on_threshold_breach&lt;/code>&lt;/td>
&lt;td>if &lt;code>false&lt;/code>, the pipeline step will not fail even if thresholds are breached.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>projektor_compat_mode&lt;/code>&lt;/td>
&lt;td>if &lt;code>true&lt;/code>, output will be generated with the &lt;code>--summary-output&lt;/code> flag instead of the &lt;code>--out&lt;/code> flag. this is necessary for results uploaded to a &lt;a href="https://projektor.dev/">Projektor&lt;/a> server.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_progress&lt;/code>&lt;/td>
&lt;td>if &lt;code>true&lt;/code>, k6 progress bar output will print to the Vela pipeline. Not recommended for numerous or long-running tests, as logging becomes excessive.&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Plugins: Kaniko</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/kaniko/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/kaniko/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to build and publish &lt;a href="https://www.docker.com/">Docker&lt;/a> images in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-kaniko">https://github.com/go-vela/vela-kaniko&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-kaniko">https://hub.docker.com/r/target/vela-kaniko&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of building and publishing an image:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">publish_hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-kaniko:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">registry&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">index.docker.io&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">repo&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">index.docker.io/octocat/hello-world&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building an image without publishing:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ dry_run: true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of attempting the publishing of an image three times:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ push_retry: 3
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building and publishing an image with custom tags:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ tags:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - latest
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - foobar
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building and publishing an image with automatic tags:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ auto_tag: true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Depending on the type of event, the image will be tagged as follows:&lt;/p>
&lt;ul>
&lt;li>
&lt;p>tag event (using &lt;code>v1.0.0&lt;/code> as an example):&lt;/p>
&lt;ul>
&lt;li>&lt;code>index.docker.io/octocat/hello-world:latest&lt;/code>&lt;/li>
&lt;li>&lt;code>index.docker.io/octocat/hello-world:v1.0.0&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>all other events:&lt;/p>
&lt;ul>
&lt;li>&lt;code>index.docker.io/octocat/hello-world:latest&lt;/code>&lt;/li>
&lt;li>&lt;code>index.docker.io/octocat/hello-world:eeea105fed7fc11bda4b43a00edfc49a5c982968&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Sample of building and publishing an image with build arguments:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ build_args:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - FOO=bar
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building and publishing an image with caching:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ cache: true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ cache_repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building using a snapshot mode and publishing an image with caching:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ snapshot_mode: redo
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of building using a custom platform:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ custom_platform: linux/arm64/v8
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> This option will only work if your Vela worker is configured appropriately.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of only including repository topics starting with &amp;ldquo;id&amp;rdquo; as a value in the &amp;ldquo;io.vela.build.topics&amp;rdquo; that gets applied to the built image:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ repo_topics_filter: &amp;#34;^id&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of using &lt;code>zstd&lt;/code> layer compression:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ compression: zstd
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ compression_level: 3
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Be aware that while this may yield better compression and/or performance, many common container tools are not yet compatible with this type of compression. Use at your own risk.&lt;/p>
&lt;/blockquote>
&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ kaniko_username, kaniko_password ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secrets to the &lt;code>publish_hello-world&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>KANIKO_USERNAME=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>KANIKO_PASSWORD=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/kaniko/password&lt;/code>, &lt;code>/vela/secrets/kaniko/password&lt;/code>, &lt;code>/vela/secrets/managed-auth/password&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/kaniko/username&lt;/code>, &lt;code>/vela/secrets/kaniko/username&lt;/code>, &lt;code>/vela/secrets/managed-auth/username&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ kaniko_username, kaniko_password ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret values in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;p>The &lt;a href="https://github.com/GoogleContainerTools/kaniko/releases/tag/v1.0.0">Snapshot mode&lt;/a> can help improve performance but it is recommend to follow Kaniko&amp;rsquo;s guidelines for picking the mode.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>auto_tag&lt;/code>&lt;/td>
&lt;td>enables automatic tagging of images (tag or sha, and &lt;code>latest&lt;/code>)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_AUTO_TAG&lt;/code>&lt;br>&lt;code>KANIKO_AUTO_TAG&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>build_args&lt;/code>&lt;/td>
&lt;td>variables passed to image at build-time&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_BUILD_ARGS&lt;/code>&lt;br>&lt;code>KANIKO_BUILD_ARGS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cache&lt;/code>&lt;/td>
&lt;td>enable caching of image layers&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CACHE&lt;/code>&lt;br>&lt;code>KANIKO_CACHE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cache_repo&lt;/code>&lt;/td>
&lt;td>specific repo to enable caching for&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CACHE_REPO&lt;/code>&lt;br>&lt;code>KANIKO_CACHE_REPO&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>compression&lt;/code>&lt;/td>
&lt;td>compression to use (&lt;code>gzip&lt;/code> or &lt;code>zstd&lt;/code> - kaniko uses &lt;code>gzip&lt;/code> if not defined)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_COMPRESSION&lt;/code>&lt;br>&lt;code>KANIKO_COMPRESSION&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>compression_level&lt;/code>&lt;/td>
&lt;td>compression level to use (1 - 9, inclusive)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_COMPRESSION_LEVEL&lt;/code>&lt;br>&lt;code>KANIKO_COMPRESSION_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>context&lt;/code>&lt;/td>
&lt;td>path to context for building the image&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>.&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CONTEXT&lt;/code>&lt;br>&lt;code>KANIKO_CONTEXT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dockerfile&lt;/code>&lt;/td>
&lt;td>path to the file for building the image&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>Dockerfile&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DOCKERFILE&lt;/code>&lt;br>&lt;code>KANIKO_DOCKERFILE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dry_run&lt;/code>&lt;/td>
&lt;td>enable building the image without publishing&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DRY_RUN&lt;/code>&lt;br>&lt;code>KANIKO_DRY_RUN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>event&lt;/code>&lt;/td>
&lt;td>event generated for build&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_EVENT&lt;/code>&lt;br>&lt;code>KANIKO_EVENT&lt;/code>&lt;br>&lt;code>VELA_BUILD_EVENT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>force_build_metadata&lt;/code>&lt;/td>
&lt;td>enable force adding metadata layers to build image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FORCE_BUILD_METADATA&lt;/code>&lt;br>&lt;code>KANIKO_FORCE_BUILD_METADATA&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>repo_topics_filter&lt;/code>&lt;/td>
&lt;td>regex expression to filter out repository topics&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>empty slice&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REPO_TOPICS_FILTER&lt;/code>&lt;br>&lt;code>KANIKO_REPO_TOPICS_FILTER&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>labels&lt;/code>&lt;/td>
&lt;td>unique labels to add to the image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LABELS&lt;/code>&lt;br>&lt;code>KANIKO_LABELS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>KANIKO_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mirror&lt;/code>&lt;/td>
&lt;td>name of the mirror registry to use&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_MIRROR&lt;/code>&lt;br>&lt;code>KANIKO_MIRROR&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>password for communication with the registry&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>KANIKO_PASSWORD&lt;/code>&lt;br>&lt;code>DOCKER_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>push_retry&lt;/code>&lt;/td>
&lt;td>number of retries for pushing an image to a remote destination&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>0&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PUSH_RETRY&lt;/code>&lt;br>&lt;code>KANIKO_PUSH_RETRY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>registry&lt;/code>&lt;/td>
&lt;td>name of the registry for the repository&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>index.docker.io&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REGISTRY&lt;/code>&lt;br>&lt;code>KANIKO_REGISTRY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>repo&lt;/code>&lt;/td>
&lt;td>name of the repository for the image&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REPO&lt;/code>&lt;br>&lt;code>KANIKO_REPO&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sha&lt;/code>&lt;/td>
&lt;td>SHA-1 hash generated for commit&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_SHA&lt;/code>&lt;br>&lt;code>KANIKO_SHA&lt;/code>&lt;br>&lt;code>VELA_BUILD_COMMIT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>use_new_run&lt;/code>&lt;/td>
&lt;td>use experimental run implementation for detecting changes without requiring file system snapshots&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_USE_NEW_RUN&lt;/code>&lt;br>&lt;code>KANIKO_USE_NEW_RUN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>single_snapshot&lt;/code>&lt;/td>
&lt;td>takes a single snapshot of the filesystem at the end of the build, so only one layer will be appended to the base image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SINGLE_SNAPSHOT&lt;/code>&lt;br>&lt;code>KANIKO_SINGLE_SNAPSHOT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>snapshot_mode&lt;/code>&lt;/td>
&lt;td>control how to snapshot the filesystem. - options: &lt;code>full&lt;/code>, &lt;code>redo&lt;/code>, or &lt;code>time&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SNAPSHOT_MODE&lt;/code>&lt;br>&lt;code>KANIKO_SNAPSHOT_MODE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tag&lt;/code>&lt;/td>
&lt;td>tag generated for build&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_TAG&lt;/code>&lt;br>&lt;code>KANIKO_TAG&lt;/code>&lt;br>&lt;code>VELA_BUILD_TAG&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tags&lt;/code>&lt;/td>
&lt;td>unique tags of the image&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>latest&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TAGS&lt;/code>&lt;br>&lt;code>KANIKO_TAGS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tar_path&lt;/code>&lt;/td>
&lt;td>save the image as a tarball at path&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TAR_PATH&lt;/code>&lt;br>&lt;code>KANIKO_TAR_PATH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target&lt;/code>&lt;/td>
&lt;td>set the target build stage for the image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET&lt;/code>&lt;br>&lt;code>KANIKO_TARGET&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>user name for communication with the registry&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>&lt;br>&lt;code>KANIKO_USERNAME&lt;/code>&lt;br>&lt;code>DOCKER_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>custom_platform&lt;/code>&lt;/td>
&lt;td>set the custom platform for the image&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CUSTOM_PLATFORM&lt;/code>&lt;br>&lt;code>KANIKO_CUSTOM_PLATFORM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>insecure_registries&lt;/code>&lt;/td>
&lt;td>insecure docker registries to push or pull to/from&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>empty slice&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_INSECURE_REGISTRIES&lt;/code>&lt;br>&lt;code>KANIKO_INSECURE_REGISTRIES&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>insecure_pull&lt;/code>&lt;/td>
&lt;td>enable pulling from any insecure registry&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_INSECURE_PULL&lt;/code>&lt;br>&lt;code>KANIKO_INSECURE_PULL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>insecure_push&lt;/code>&lt;/td>
&lt;td>enable pushing to any insecure registry&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_INSECURE_PUSH&lt;/code>&lt;br>&lt;code>KANIKO_INSECURE_PUSH&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: publish_hello-world
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kaniko:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> registry: index.docker.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> repo: index.docker.io/octocat/hello-world
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: Kubernetes</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/kubernetes/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/kubernetes/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables the ability to manage resources in &lt;a href="https://kubernetes.io/">Kubernetes&lt;/a> in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-kubernetes">https://github.com/go-vela/vela-kubernetes&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-kubernetes">https://hub.docker.com/r/target/vela-kubernetes&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of applying Kubernetes files:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kubernetes&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-kubernetes:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">files&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kubernetes/common, kubernetes/dev/deploy.yml ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of pretending to apply Kubernetes files:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: kubernetes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kubernetes:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ dry_run: true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> files: [ kubernetes/common, kubernetes/dev/deploy.yml ]
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of patching containers in Kubernetes files:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kubernetes&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-kubernetes:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">patch&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">files&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kubernetes/common, kubernetes/dev/deploy.yml ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">containers&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">sample&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">alpine:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of pretending to patch containers in Kubernetes files:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: kubernetes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kubernetes:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: patch
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ dry_run: true
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> files: [ kubernetes/common, kubernetes/dev/deploy.yml ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> containers:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: sample
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: alpine:latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of watching the status of resources:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kubernetes&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-kubernetes:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">status&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">statuses&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">sample ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="gke-clusters-authentication">GKE clusters authentication&lt;/h3>
&lt;p>Google Kubernetes Engine (GKE) clusters version 1.26 and up require use of new &amp;ldquo;gke-gcloud-auth-plugin&amp;rdquo;, see &lt;a href="https://cloud.google.com/blog/products/containers-kubernetes/kubectl-auth-changes-in-gke">blog&lt;/a>.&lt;/p>
&lt;ol>
&lt;li>Download Google service account credentials:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gcloud beta secrets versions access &lt;span style="color:#0000cf;font-weight:bold">1&lt;/span> --secret &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Secret Name&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --project &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Google Project Name&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span> --out-file &lt;span style="color:#ce5c00;font-weight:bold">[&lt;/span>Secret Name&lt;span style="color:#ce5c00;font-weight:bold">]&lt;/span>-gsa-key.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="2">
&lt;li>Upload Google service account secret to vela native secrets store:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vela add secret --secret.engine native --secret.type org --org MYORGNAME --name k8s-gsa-key --value @k8s-gsa-key.json -event deployment --event pull_request --event push --event tag --event comment
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="3">
&lt;li>Create kubeconfig file and make sure to use user &lt;code>gke-gcloud-auth-user&lt;/code> for your cluster:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">clusters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">cluster&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">certificate-authority-data&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">XXXXXXXXXXX&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">server&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://ip of K8s API Server&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">clustername&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">contexts&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cluster&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">clustername&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">user&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gke-gcloud-auth-user&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">clustername&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">current-context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Config&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">preferences&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">users&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gke-gcloud-auth-user&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">user&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">exec&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">client.authentication.k8s.io/v1beta1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">args&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- --&lt;span style="color:#000">use_application_default_credentials&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">command&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gke-gcloud-auth-plugin&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">env&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">null&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">installHint&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Install gke-gcloud-auth-plugin for use with kubectl by following&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://cloud.google.com/blog/products/containers-kubernetes/kubectl-auth-changes-in-gke&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">interactiveMode&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">IfAvailable&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">provideClusterInfo&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="4">
&lt;li>Upload kubeconfig file to vela native secretrs store:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>vela add secret --secret.engine native --secret.type org --org MYORGNAME --name kube_config_secret --value @kube_config_secret.file -event deployment --event pull_request --event push --event tag --event comment
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol start="5">
&lt;li>Configure Vela file:&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kube_config_secret&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ORGNAME/kube-config&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">org&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gsa_key&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">key&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ORGNAME/k8s-gsa-key&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">type&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">org&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">k8s-gsa-setup&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">setup-gke-access&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">alpine:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">branch&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">master&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">event&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">pull_request, push, deployment]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">environment&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">GOOGLE_APPLICATION_CREDENTIALS&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;/vela/secrets/.kube/gsa-key.json&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;lt;== change name as needed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">source&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">gsa_key&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">target&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">GSA_KEY_FILE&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">commands&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">mkdir -p /vela/secrets/.kube/&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">echo &amp;#34;$GSA_KEY_FILE&amp;#34; &amp;gt; $GOOGLE_APPLICATION_CREDENTIALS&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">k8s-plugin-dry-run&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">needs&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">k8s-gsa-setup ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">dry-run&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-kubernetes:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">branch&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">master&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">event&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">pull_request ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">environment&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">GOOGLE_APPLICATION_CREDENTIALS&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;/vela/secrets/.kube/gsa-key.json&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;lt;== change name as needed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">USE_GKE_GCLOUD_AUTH_PLUGIN&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">True&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;lt;== required&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">source&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kube_config_secret&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">target&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kube_config&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">dry_run&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">context-name &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;lt;== change as needed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">files&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Kubernetes/manifests/service.yaml ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">k8s-plugin-apply&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">needs&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">k8s-gsa-setup ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">run-apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-kubernetes:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">branch&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">master&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">event&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">push ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">environment&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">GOOGLE_APPLICATION_CREDENTIALS&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;/vela/secrets/.kube/gsa-key.json&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;lt;== change name as needed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">USE_GKE_GCLOUD_AUTH_PLUGIN&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">True&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;lt;== required&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">source&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kube_config_secret&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">target&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">kube_config&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">context-name &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># &amp;lt;== change as needed&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">files&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Kubernetes/manifests/service.yaml ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: kubernetes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kubernetes:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ kube_config ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> files: [ kubernetes/common, kubernetes/dev/deploy.yml ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- config: |
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- ---
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- apiVersion: v1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- kind: Config
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secrets to the &lt;code>kubernetes&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>KUBE_CONFIG=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>config&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/kubernetes/config&lt;/code>, &lt;code>/vela/secrets/kubernetes/config&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: kubernetes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kubernetes:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ kube_config ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> files: [ kubernetes/common, kubernetes/dev/deploy.yml ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- config: |
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- ---
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- apiVersion: v1
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- kind: Config
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret values in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>action&lt;/code>&lt;/td>
&lt;td>action to perform against Kubernetes&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ACTION&lt;/code>&lt;br>&lt;code>KUBERNETES_ACTION&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>cluster&lt;/code>&lt;/td>
&lt;td>Kubernetes cluster from the configuration file&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CLUSTER&lt;/code>&lt;br>&lt;code>KUBERNETES_CLUSTER&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>context&lt;/code>&lt;/td>
&lt;td>Kubernetes context from the configuration file&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CONTEXT&lt;/code>&lt;br>&lt;code>KUBERNETES_CONTEXT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>config&lt;/code>&lt;/td>
&lt;td>content of configuration file for communication with Kubernetes&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CONFIG&lt;/code>&lt;br>&lt;code>KUBERNETES_CONFIG&lt;/code>&lt;br>&lt;code>KUBE_CONFIG&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>KUBERNETES_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>namespace&lt;/code>&lt;/td>
&lt;td>Kubernetes namespace from the configuration file&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_NAMESPACE&lt;/code>&lt;br>&lt;code>KUBERNETES_NAMESPACE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>path&lt;/code>&lt;/td>
&lt;td>path to configuration file for communication with Kubernetes&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PATH&lt;/code>&lt;br>&lt;code>KUBERNETES_PATH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>version&lt;/code>&lt;/td>
&lt;td>version of the &lt;code>kubectl&lt;/code> CLI to install&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>v1.24.0&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VERSION&lt;/code>&lt;br>&lt;code>KUBERNETES_VERSION&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="config">Config&lt;/h3>
&lt;p>The content passed to the &lt;code>config&lt;/code> parameter is expected to be a full
Kubernetes Config object as would be found in &lt;code>~/.kube/config&lt;/code>.
Run &lt;code>kubectl config view&lt;/code> to get an idea of what &lt;em>could&lt;/em> be in this config file.&lt;/p>
&lt;p>Consider this a minimal example of step with inline &lt;code>config&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">k8s apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-kubernetes:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">ruleset&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">event&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">push&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">branch&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">main]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#000">K8S_TOKEN]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">files&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># These may not be necessary, but explicitness is good practice.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cluster&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mycluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mycontext&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">namespace&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mynamespace&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">k8s/myapp.yaml&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">config&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">|&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>---&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">apiVersion&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">v1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">kind&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Config&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">clusters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mycluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cluster&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">server&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://kubernetes.example.com:6443&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">users&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">myuser&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">user&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">token&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;${K8S_TOKEN}&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">contexts&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mycontext&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">cluster&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mycluster&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">namespace&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mynamespace&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">user&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">myuser&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">current-context&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mycontext&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Note the interpolation of the &lt;code>K8S_TOKEN&lt;/code> secret.
Doing this can ease management of large secrets with multiple &amp;ldquo;sub-secrets&amp;rdquo;
even when they don&amp;rsquo;t change very often.&lt;/p>
&lt;h3 id="actions">Actions&lt;/h3>
&lt;p>These next sections define the parameters that must or can be passed when
a particular action is active.&lt;/p>
&lt;h4 id="apply">Apply&lt;/h4>
&lt;p>The following parameters are used to configure the &lt;code>apply&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>dry_run&lt;/code>&lt;/td>
&lt;td>enables pretending to perform the apply (&lt;code>true&lt;/code>/&lt;code>client&lt;/code>, &lt;code>false&lt;/code>/&lt;code>none&lt;/code>, &lt;code>server&lt;/code>)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DRY_RUN&lt;/code>&lt;br>&lt;code>KUBERNETES_DRY_RUN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>files&lt;/code>&lt;/td>
&lt;td>list of Kubernetes files or directories to apply&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FILES&lt;/code>&lt;br>&lt;code>KUBERNETES_FILES&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>output&lt;/code>&lt;/td>
&lt;td>set the output for the apply&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_OUTPUT&lt;/code>&lt;br>&lt;code>KUBERNETES_OUTPUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="patch">Patch&lt;/h4>
&lt;p>The following parameters are used to configure the &lt;code>patch&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>containers&lt;/code>&lt;/td>
&lt;td>containers from the files to patch&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CONTAINERS&lt;/code>&lt;br>&lt;code>KUBERNETES_CONTAINERS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dry_run&lt;/code>&lt;/td>
&lt;td>enables pretending to perform the patch&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DRY_RUN&lt;/code>&lt;br>&lt;code>KUBERNETES_DRY_RUN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>files&lt;/code>&lt;/td>
&lt;td>list of Kubernetes files or directories to patch&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FILES&lt;/code>&lt;br>&lt;code>KUBERNETES_FILES&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>output&lt;/code>&lt;/td>
&lt;td>set the output for the patch&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_OUTPUT&lt;/code>&lt;br>&lt;code>KUBERNETES_OUTPUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="status">Status&lt;/h4>
&lt;p>The following parameters are used to configure the &lt;code>status&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>statuses&lt;/code>&lt;/td>
&lt;td>list of Kubernetes resources to watch status on&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_STATUSES&lt;/code>&lt;br>&lt;code>KUBERNETES_STATUSES&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>timeout&lt;/code>&lt;/td>
&lt;td>total time allowed to watch Kubernetes resources&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>5m&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TIMEOUT&lt;/code>&lt;br>&lt;code>KUBERNETES_TIMEOUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>watch&lt;/code>&lt;/td>
&lt;td>enables watching until the resource completes&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_WATCH&lt;/code>&lt;br>&lt;code>KUBERNETES_WATCH&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: kubernetes
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-kubernetes:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> files: [ kubernetes/common, kubernetes/dev/deploy.yml ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: npm</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/npm/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/npm/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables the ability to manage artifacts in &lt;a href="https://www.npmjs.org/">npm&lt;/a> in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-npm">https://github.com/go-vela/vela-npm&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-npm">https://hub.docker.com/r/target/vela-npm&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of publishing package:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">npm_publish&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-npm:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">not_present&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">secrets&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">npm_password ]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">username&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">npmUsername&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">registry&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">https://registry.npmjs.org&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of publishing if registry does not support &lt;code>npm ping&lt;/code>:&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Recommended if you are deploying to a registry inside &lt;em>&lt;strong>Artifactory&lt;/strong>&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: npm_publish
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-npm:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: not_present
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ npm_password ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> username: npmUsername
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: https://registry.npmjs.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ skip_ping: true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of pretending to publish package:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: npm_publish
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-npm:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: not_present
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ npm_password ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> username: npmUsername
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: https://registry.npmjs.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ dry_run: true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of first time publishing package:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: npm_publish
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-npm:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: not_present
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ npm_password ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> username: npmUsername
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: https://registry.npmjs.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ first_publish: true
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of publishing with additional dist-tag:&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Tags are used as an alias and cannot be valid semver&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: npm_publish
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-npm:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: not_present
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ npm_password ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> username: npmUsername
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: https://registry.npmjs.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ tag: beta
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Higher level of tolerance for npm audit:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: npm_publish
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-npm:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: not_present
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ npm_password ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> username: npmUsername
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: https://registry.npmjs.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ audit_level: critical
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from configuring sensitive information in their pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>The plugin accepts the following &lt;code>parameters&lt;/code> for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Environment Variable Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>NPM_PASSWORD&lt;/code>, &lt;code>PARAMETER_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>NPM_USERNAME&lt;/code>, &lt;code>PARAMETER_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>registry&lt;/code>&lt;/td>
&lt;td>&lt;code>NPM_REGISTRY&lt;/code>, &lt;code>PARAMETER_REGISTRY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>email&lt;/code>&lt;/td>
&lt;td>&lt;code>NPM_EMAIL&lt;/code>, &lt;code>PARAMETER_EMAIL&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: npm_publish
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-npm:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: not_present
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ npm_password ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> username: npmUsername
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: https://registry.npmjs.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the &lt;code>secrets&lt;/code> to the &lt;code>npm_publish&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>NPM_PASSWORD&lt;/code>=value&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/npm/password&lt;/code>, &lt;code>/vela/secrets/npm/password&lt;/code>, &lt;code>/vela/secrets/managed-auth/password&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/npm/username&lt;/code>, &lt;code>/vela/secrets/npm/username&lt;/code>, &lt;code>/vela/secrets/managed-auth/username&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>registry&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/npm/registry&lt;/code>, &lt;code>/vela/secrets/npm/registry&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>email&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/npm/email&lt;/code>, &lt;code>/vela/secrets/npm/email&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: npm_publish
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-npm:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: not_present
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: https://registry.npmjs.org
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: npmUsername
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>username for communication with npm&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>&lt;br>&lt;code>NPM_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>password for communication with npm&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>NPM_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>email&lt;/code>&lt;/td>
&lt;td>email for communication with npm&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_EMAIL&lt;/code>&lt;br>&lt;code>NPM_EMAIL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>token&lt;/code>&lt;/td>
&lt;td>auth token for communication with npm&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TOKEN&lt;/code>&lt;br>&lt;code>TOKEN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>registry&lt;/code>&lt;/td>
&lt;td>npm instance to communicate with&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>https://registry.npmjs.org&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REGISTRY&lt;/code>&lt;br>&lt;code>NPM_REGISTRY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>audit_level&lt;/code>&lt;/td>
&lt;td>level at which the audit check should fail (valid options: &lt;code>low&lt;/code>, &lt;code>moderate&lt;/code>, &lt;code>high&lt;/code>, &lt;code>critical&lt;/code>, &lt;code>none&lt;/code> to skip)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>low&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_AUDIT_LEVEL&lt;/code>&lt;br>&lt;code>AUDIT_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>strict_ssl&lt;/code>&lt;/td>
&lt;td>whether or not to do SSL key validation during communication&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_STRICT_SSL&lt;/code>&lt;br>&lt;code>STRICT_SSL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>always_auth&lt;/code>&lt;/td>
&lt;td>force npm to always require authentication&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ALWAYS_AUTH&lt;/code>&lt;br>&lt;code>ALWAYS_AUTH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>skip_ping&lt;/code>&lt;/td>
&lt;td>whether or not to skip &lt;code>npm ping&lt;/code> authentication command&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SKIP_PING&lt;/code>&lt;br>&lt;code>SKIP_PING&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>dry_run&lt;/code>&lt;/td>
&lt;td>enables pretending to perform the action&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DRY_RUN&lt;/code>&lt;br>&lt;code>DRY_RUN&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>tag&lt;/code>&lt;/td>
&lt;td>publish package with given alias tag&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>latest&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TAG&lt;/code>&lt;br>&lt;code>TAG&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin (valid options: &lt;code>info&lt;/code>, &lt;code>debug&lt;/code>, &lt;code>trace&lt;/code>)&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>workspaces&lt;/code>&lt;/td>
&lt;td>publish all workspaces&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_WORKSPACES&lt;/code>&lt;br>&lt;code>WORKSPACES&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>workspace&lt;/code>&lt;/td>
&lt;td>publish a specific workspace by specifying the workspace name or relative path&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_WORKSPACE&lt;/code>&lt;br>&lt;code>WORKSPACE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>access&lt;/code>&lt;/td>
&lt;td>Tells the registry whether this package should be published as public or restricted. Only applies to scoped packages, which default to restricted&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>restricted&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ACCESS&lt;/code>&lt;br>&lt;code>ACCESS&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="packagejson">package.json&lt;/h2>
&lt;p>This is your module&amp;rsquo;s manifest. There are a few important keys that need to be set in order to publish your module&lt;/p>
&lt;ul>
&lt;li>&lt;strong>name&lt;/strong> - your package name that will be checked against in the registry&lt;/li>
&lt;li>&lt;strong>version&lt;/strong> - your package version that will be used to publish, it must be valid semver and unique to the registry&lt;/li>
&lt;li>&lt;strong>private&lt;/strong> - this needs to be set to &lt;code>false&lt;/code> even if you are publishing it internally.&lt;/li>
&lt;li>&lt;strong>publishConfig&lt;/strong> - this should be configured to your registry location and registry parameter should match this value&lt;/li>
&lt;/ul>
&lt;p>For example values, see npm&amp;rsquo;s &lt;a href="https://docs.npmjs.com/files/package.json">documentation&lt;/a>&lt;/p>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>Here are the available log levels to assist in troubleshooting:
trace, debug, info, warn, error, fatal, panic&lt;/p></description></item><item><title>Plugins: S3 Cache</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/s3_cache/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/s3_cache/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to cache build resources in an &lt;a href="https://aws.amazon.com/s3/">s3&lt;/a> compatible store for a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-s3-cache">https://github.com/go-vela/vela-s3-cache&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-s3-cache">https://hub.docker.com/r/target/vela-s3-cache&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of restoring a cache:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">restore_cache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-s3-cache:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">restore&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">bucket&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mybucket&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">server&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mybucket.s3-us-west-2.amazonaws.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of rebuilding a cache:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">rebuild_cache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-s3-cache:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">rebuild&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">bucket&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mybucket&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">server&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mybucket.s3-us-west-2.amazonaws.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mount&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">.gradle&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of rebuilding a cache while preserving the directory structure:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">rebuild_cache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-s3-cache:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">rebuild&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">bucket&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mybucket&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">server&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mybucket.s3-us-west-2.amazonaws.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">preserve_path&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">mount&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">foo/test1&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">bar/test2&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of flushing a cache:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">flushing_cache&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-s3-cache:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">flush&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">bucket&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mybucket&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">server&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">mybucket.s3-us-west-2.amazonaws.com&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: restore_cache
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-s3-cache:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ s3_cache_access_key, s3_cache_secret_key ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: restore
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> bucket: mybucket
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> server: mybucket.s3-us-west-2.amazonaws.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- access_key: AKIAIOSFODNN7EXAMPLE
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- secret_key: 123456789QWERTYEXAMPLE
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secrets to the &lt;code>restore_cache&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>S3_CACHE_ACCESS_KEY=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>S3_CACHE_SECRET_KEY=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>access_key&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/s3-cache/access_key&lt;/code>, &lt;code>/vela/secrets/s3-cache/access_key&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>secret_key&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/s3-cache/secret_key&lt;/code>, &lt;code>/vela/secrets/s3-cache/secret_key&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>session_token&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/s3-cache/session_token&lt;/code>, &lt;code>/vela/secrets/s3-cache/session_token&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: restore_cache
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-s3-cache:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ s3_cache_access_key, s3_cache_secret_key ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: restore
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> bucket: mybucket
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> server: mybucket.s3-us-west-2.amazonaws.com
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- access_key: AKIAIOSFODNN7EXAMPLE
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- secret_key: 123456789QWERTYEXAMPLE
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret values in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;p>The s3 bucket set with the &lt;code>bucket&lt;/code> parameter is expected to be created beforehand.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters can used to configure all image actions:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>accelerated_endpoint&lt;/code>&lt;/td>
&lt;td>s3 accelerated instance to communicate with&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ACCELERATED_ENDPOINT&lt;/code>&lt;br>&lt;code>S3_CACHE_ACCELERATED_ENDPOINT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>access_key&lt;/code>&lt;/td>
&lt;td>access key for communication with s3&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ACCESS_KEY&lt;/code>&lt;br>&lt;code>S3_CACHE_ACCESS_KEY&lt;/code>&lt;br>&lt;code>AWS_ACCESS_KEY_ID&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>action&lt;/code>&lt;/td>
&lt;td>action to perform against s3&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ACTION&lt;/code>&lt;br>&lt;code>S3_CACHE_ACTION&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>build_branch&lt;/code>&lt;/td>
&lt;td>branch name from build for the repository&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_BUILD_BRANCH&lt;/code>&lt;br>&lt;code>VELA_BUILD_BRANCH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>bucket&lt;/code>&lt;/td>
&lt;td>name of the s3 bucket&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_BUCKET&lt;/code>&lt;br>&lt;code>S3_CACHE_BUCKET&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>S3_CACHE_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>org&lt;/code>&lt;/td>
&lt;td>name of the org for the repository&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_ORG&lt;/code>&lt;br>&lt;code>VELA_REPO_ORG&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>path&lt;/code>&lt;/td>
&lt;td>custom path for the object(s)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PATH&lt;/code>&lt;br>&lt;code>S3_CACHE_PATH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>prefix&lt;/code>&lt;/td>
&lt;td>path prefix for the object(s)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PREFIX&lt;/code>&lt;br>&lt;code>S3_CACHE_PREFIX&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>repo&lt;/code>&lt;/td>
&lt;td>name of the repository&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_REPO&lt;/code>&lt;br>&lt;code>VELA_REPO_NAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>repo_branch&lt;/code>&lt;/td>
&lt;td>default branch for the Vela repository&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_REPO_BRANCH&lt;/code>&lt;br>&lt;code>VELA_REPO_BRANCH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>secret_key&lt;/code>&lt;/td>
&lt;td>secret key for communication with s3&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SECRET_KEY&lt;/code>&lt;br>&lt;code>S3_CACHE_SECRET_KEY&lt;/code>&lt;br>&lt;code>AWS_SECRET_ACCESS_KEY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>server&lt;/code>&lt;/td>
&lt;td>s3 instance to communicate with&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SERVER&lt;/code>&lt;br>&lt;code>S3_CACHE_SERVER&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>session_token&lt;/code>&lt;/td>
&lt;td>session token for communication with s3&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SESSION_TOKEN&lt;/code>&lt;br>&lt;code>S3_CACHE_SESSION_TOKEN&lt;/code>&lt;br>&lt;code>AWS_SESSION_TOKEN&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="restore">Restore&lt;/h3>
&lt;p>The following parameters are used to configure the &lt;code>restore&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>filename&lt;/code>&lt;/td>
&lt;td>the name of the cache object&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>archive.tgz&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FILENAME&lt;/code>&lt;br>&lt;code>S3_CACHE_FILENAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>timeout&lt;/code>&lt;/td>
&lt;td>the timeout for the call to s3&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>10m&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TIMEOUT&lt;/code>&lt;br>&lt;code>S3_CACHE_TIMEOUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="rebuild">Rebuild&lt;/h3>
&lt;p>The following parameters are used to configure the &lt;code>rebuild&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>filename&lt;/code>&lt;/td>
&lt;td>the name of the cache object&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>archive.tgz&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FILENAME&lt;/code>&lt;br>&lt;code>S3_CACHE_FILENAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>timeout&lt;/code>&lt;/td>
&lt;td>the timeout for the call to s3&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>10m&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TIMEOUT&lt;/code>&lt;br>&lt;code>S3_CACHE_TIMEOUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>preserve_path&lt;/code>&lt;/td>
&lt;td>whether to preserve the relative directory structure during the tar process&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PRESERVE_PATH&lt;/code>&lt;br>&lt;code>S3_PRESERVE_PATH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mount&lt;/code>&lt;/td>
&lt;td>the file or directories locations to build your cache from&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_MOUNT&lt;/code>&lt;br>&lt;code>S3_CACHE_MOUNT&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="flush">Flush&lt;/h3>
&lt;p>The following parameters are used to configure the &lt;code>flush&lt;/code> action:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>age&lt;/code>&lt;/td>
&lt;td>delete the objects past a specific age (i.e. 60m, 8h)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>336h&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_AGE&lt;/code>&lt;br>&lt;code>S3_CACHE_AGE&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: restore_cache
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-s3-cache:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: restore
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> bucket: mybucket
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> server: mybucket.s3-us-west-2.amazonaws.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p>
&lt;h3 id="invalid-duration-value">Invalid duration value&lt;/h3>
&lt;p>The error may look like this:&lt;/p>
&lt;pre>&lt;code>could not parse \&amp;quot;14d\&amp;quot; as duration value for flag flush.age: time: unknown unit \&amp;quot;d\&amp;quot; in duration \&amp;quot;14d\&amp;quot;
&lt;/code>&lt;/pre>
&lt;p>Values for rebuild and restore &lt;code>timeout&lt;/code> and flushing &lt;code>age&lt;/code> are parsed using Go&amp;rsquo;s &lt;a href="https://golang.org/pkg/time/#ParseDuration">time.ParseDuration&lt;/a> function. Only &lt;code>h&lt;/code> for hours, &lt;code>m&lt;/code> for minutes, and so on for smaller time units are supported; &lt;code>d&lt;/code> for days will cause an error unless added in subsequent versions of Go after v1.16, which is &lt;a href="https://github.com/golang/go/issues/11473">unlikely&lt;/a>.&lt;/p></description></item><item><title>Plugins: SCP</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/scp/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/scp/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin is part of the &lt;a href="https://www.openssh.com/">OpenSSH&lt;/a> suite of plugins which enables you to use the &lt;code>scp&lt;/code> binary in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-openssh">https://github.com/go-vela/vela-openssh&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-scp">https://hub.docker.com/r/target/vela-scp&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Because the plugin is a thin wrapper around the &lt;a href="https://man.openbsd.org/scp">&lt;code>scp&lt;/code>&lt;/a> binary, the syntax and parameters follow from the &lt;a href="https://man.openbsd.org/scp">OpenSSH manual&lt;/a>. The plugin will take care of some basic secrets identity management tasks for you, most importantly is that when an identity file is provided as a secret the plugin will place the file into the filesystem and change the permissions to match what the binary expects, and then add it to the list of identity files tried as part of authentication. Additionally, if using a password or passphrase for authentication or for unlocking an identity file, the &lt;a href="https://linux.die.net/man/1/sshpass">&lt;code>sshpass&lt;/code>&lt;/a> binary will be used to provide those credentials without interactive user input.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for images.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;h3 id="basic-usage">Basic usage&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">scp basic usage&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-scp:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">source&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">./relative/path/to/file/in/vela/workspace&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">a_user_name@some_remote_host_name:/absolute/path/on/remote/system&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">target&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">a_different_user@some_other_host:~&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-the-scp-schema-for-non-standard-ports">Using the &lt;code>scp://&lt;/code> schema for non-standard ports&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: scp to non-standard port
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-scp:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> source:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./relative/path/to/file/in/vela/workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - a_user_name@some_remote_host_name:/absolute/path/on/remote/system
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: scp://a_different_user@some_remote_host_name:12345/path
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="passing-additional-scp-flags">Passing additional &lt;code>scp&lt;/code> flags&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: override default scp flags
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-scp:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> source:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./relative/path/to/folder/in/vela/workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> target: scp://a_different_user@some_remote_host_name:12345/path
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ scp_flag:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - &amp;#34;-r&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - &amp;#34;-o StrictHostKeyChecking=yes&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-a-password-for-authentication">Using a password for authentication&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: password for authentication
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-scp:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: my_non_user_account_password
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: sshpass_password
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> source:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./relative/path/to/file/in/vela/workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> target: scp://a_different_user@some_remote_host_name:12345/path
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-an-identity-file-without-a-passphrase-from-an-internal-secret">Using an identity file (WITHOUT a passphrase) from an internal secret&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: identity file contents from an internal secret
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-scp:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: my_non_user_account_id_rsa_file_contents
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: identity_file_contents
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> source:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./relative/path/to/file/in/vela/workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> target: scp://a_different_user@some_remote_host_name:12345/path
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-an-identity-file-with-a-passphrase-from-an-internal-secret">Using an identity file (WITH a passphrase) from an internal secret&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: identity file contents with passphrase from an internal secret
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-scp:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: my_non_user_account_id_rsa_file_contents
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: identity_file_contents
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: my_non_user_account_id_rsa_passphrase
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: sshpass_passphrase
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> source:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./relative/path/to/file/in/vela/workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> target: scp://a_different_user@some_remote_host_name:12345/path
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-an-existing-identity-file-from-the-workspace">Using an existing identity file from the workspace&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: identity file from the workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-scp:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> source:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./relative/path/to/file/in/vela/workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> target: scp://a_different_user@some_remote_host_name:12345/path
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ identity_file_path: ./some/workspace/location/id_rsa
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-additional-secrets-in-other-parameters">Using additional secrets in other parameters&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: additional secrets in other parameters
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-scp:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: some_secret_user
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: secret_user
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: some_secret_host
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: secret_host
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: some_secret_port
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: secret_port
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> source:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - ./relative/path/to/file/in/vela/workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: scp://$SECRET_USER@$SECRET_HOST:$SECRET_PORT/path
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-the-container-without-the-plugin-logic">Using the container without the plugin logic&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: override plugin logic to use scp directly
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-scp:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ commands:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - scp -i ./some/existing/id_rsa ./relative/path/to/file/in/vela/workspace username@hostname:/path/
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="parameters--secrets">Parameters &amp;amp; Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;p>Don&amp;rsquo;t confuse the source/target syntax of native secrets with the source and target parameters required for the scp binary.&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Accepts Multiple Values?&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;th>File Paths&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>source&lt;/code>&lt;/td>
&lt;td>The source option from the &lt;a href="https://man.openbsd.org/scp">&lt;code>scp&lt;/code> manual&lt;/a>.&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_SOURCE&lt;/code>&lt;br>&lt;code>SOURCE&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-scp/source&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-scp/source&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target&lt;/code>&lt;/td>
&lt;td>The target option from the &lt;a href="https://man.openbsd.org/scp">&lt;code>scp&lt;/code> manual&lt;/a>.&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET&lt;/code>&lt;br>&lt;code>TARGET&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-scp/target&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-scp/target&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>identity_file_path&lt;/code>&lt;/td>
&lt;td>A path for where the &lt;a href="https://man.openbsd.org/scp">&lt;code>scp&lt;/code>&lt;/a> binary should look for existing identity files.&lt;br>These are NOT auto created by the plugin as they must be created and managed by a user and only referenced here.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_IDENTITY_FILE_PATH&lt;/code>&lt;br>&lt;code>IDENTITY_FILE_PATH&lt;/code>&lt;br>&lt;code>PARAMETER_SSH_KEY_PATH&lt;/code>&lt;br>&lt;code>SSH_KEY_PATH&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-scp/identity-file.path&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-scp/identity-file.path&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>identity_file_contents&lt;/code>&lt;/td>
&lt;td>The raw contents of an identity file for use with &lt;a href="https://man.openbsd.org/scp">&lt;code>scp&lt;/code>&lt;/a>.&lt;br>The plugin will take the raw contents and place it in a temporary location in the workspace with the correct permissions and inject it as an identity file to use during execution.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_IDENTITY_FILE_CONTENTS&lt;/code>&lt;br>&lt;code>IDENTITY_FILE_CONTENTS&lt;/code>&lt;br>&lt;code>PARAMETER_SSH_KEY&lt;/code>&lt;br>&lt;code>SSH_KEY&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-scp/identity-file.contents&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-scp/identity-file.contents&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>scp_flag&lt;/code>&lt;/td>
&lt;td>Any additional options from the &lt;a href="https://man.openbsd.org/scp">&lt;code>scp&lt;/code> manual&lt;/a>.&lt;br>These will override the default options and be placed between the identity file options and the source/target options at the end.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>&lt;code>-o StrictHostKeyChecking=no&lt;/code>&lt;br>&lt;code>-o UserKnownHostsFile=/dev/null&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SCP_FLAG&lt;/code>&lt;br>&lt;code>SCP_FLAG&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-scp/scp.flag&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-scp/scp.flag&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sshpass_password&lt;/code>&lt;/td>
&lt;td>If any systems require a password for authentication it can be specified here, and the &lt;a href="https://linux.die.net/man/1/sshpass">&lt;code>sshpass&lt;/code>&lt;/a> binary will be used in conjunction with &lt;a href="https://man.openbsd.org/scp">&lt;code>scp&lt;/code>&lt;/a>.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_SSHPASS_PASSWORD&lt;/code>&lt;br>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>SSHPASS_PASSWORD&lt;/code>&lt;br>&lt;code>PASSWORD&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-scp/sshpass.password&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-scp/sshpass.password&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sshpass_passphrase&lt;/code>&lt;/td>
&lt;td>If any identity files require a passphrase for authentication it can be specified here, and the &lt;a href="https://linux.die.net/man/1/sshpass">&lt;code>sshpass&lt;/code>&lt;/a> binary will be used in conjunction with &lt;a href="https://man.openbsd.org/scp">&lt;code>scp&lt;/code>&lt;/a>.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_SSHPASS_PASSPHRASE&lt;/code>&lt;br>&lt;code>SSHPASS_PASSPHRASE&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-scp/sshpass.passphrase&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-scp/sshpass.passphrase&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sshpass_flag&lt;/code>&lt;/td>
&lt;td>Any additional options from the &lt;a href="https://linux.die.net/man/1/sshpass">&lt;code>sshpass&lt;/code> manual&lt;/a>.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_SSHPASS_FLAG&lt;/code>&lt;br>&lt;code>SSHPASS_FLAG&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-scp/sshpass.flag&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-scp/sshpass.flag&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Plugins: Slack</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/slack/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/slack/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to send data to a &lt;a href="https://slack.com/">Slack&lt;/a> channel.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-slack">https://github.com/go-vela/vela-slack&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-slack">https://hub.docker.com/r/target/vela-slack&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of sending a message:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">message&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-slack:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">text&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Hello World!&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of sending a message with formatting:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: message-with-formatting
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-slack:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: not_present
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- text: &amp;#34;Hello World!&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span>&lt;span style="color:#00a000">+ text: &amp;#34;Hello Repo {{ .RepositoryName }}!&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of sending a message with local attachment file:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: message-with-attachment
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-slack:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ webhook ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- text: &amp;#34;Hello World!&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span> filepath: slack_attachment.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> remote: false
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of sending a message with remote attachment file:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: message-with-remote-attachment
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-slack:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> secrets: [ webhook ]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- text: &amp;#34;Hello World!&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">&lt;/span> filepath: slack_attachment.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> remote: true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> registry: https://github.com
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>content of &lt;code>slack_attachment.json&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;attachments&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;fallback&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Required plain-text summary of the attachment.&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;color&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;#36a64f&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;pretext&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Optional text that appears above the attachment block&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;author_name&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Bobby Tables&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;author_link&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;http://flickr.com/bobby/&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;author_icon&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;http://flickr.com/icons/bobby.jpg&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;title&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Slack API Documentation&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;title_link&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;https://api.slack.com/&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;text&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Build: {{ .BuildNumber }}&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;fields&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;title&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Priority&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;value&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;High&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;short&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#204a87;font-weight:bold">false&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">],&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;image_url&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;http://my-website.com/path/to/image.jpg&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;thumb_url&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;http://example.com/path/to/thumb.png&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;footer&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;Slack API&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;footer_icon&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#4e9a06">&amp;#34;https://platform.slack-edge.com/img/default_application_icon.png&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;ts&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#0000cf;font-weight:bold">123456789&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>To use any variables within &lt;code>attachments&lt;/code> the file must be saved in the attachment format and be a JSON file.&lt;/p>
&lt;p>The configuration below is pulled almost directly from the Slack &lt;a href="https://api.slack.com/docs/messages/builder">Message Builder&lt;/a> attachments example.&lt;/p>
&lt;/blockquote>
&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>The plugin accepts the following &lt;code>parameters&lt;/code> for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Environment Variable Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>webhook&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_WEBHOOK&lt;/code>, &lt;code>SLACK_WEBHOOK&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: message
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-slack:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ slack_webhook ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> text: &amp;#34;Hello World!&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- webhook: http://slack.example.com
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secret to the &lt;code>message&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>SLACK_WEBHOOK=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>webhook&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/slack/webhook&lt;/code>, &lt;code>/vela/secrets/slack/webhook&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/concepts/pipeline/secrets/origin/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: message
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-slack:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> text: &amp;#34;Hello World!&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- webhook: http://slack.example.com
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret value in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>channel&lt;/code>&lt;/td>
&lt;td>Slack channel to send data to&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CHANNEL&lt;/code>&lt;br>&lt;code>SLACK_CHANNEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>filepath&lt;/code>&lt;/td>
&lt;td>file path to attachment JSON file&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_FILEPATH&lt;/code>&lt;br>&lt;code>SLACK_FILEPATH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>icon_emoji&lt;/code>&lt;/td>
&lt;td>Slack emoji to use for the icon&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ICON_EMOJI&lt;/code>&lt;br>&lt;code>SLACK_ICON_EMOJI&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>icon_url&lt;/code>&lt;/td>
&lt;td>Slack emoji URL to use for the icon&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ICON_URL&lt;/code>&lt;br>&lt;code>SLACK_ICON_URL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>SLACK_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>text&lt;/code>&lt;/td>
&lt;td>top level text to display in message&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TEXT&lt;/code>&lt;br>&lt;code>SLACK_TEXT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>thread_ts&lt;/code>&lt;/td>
&lt;td>timestamp of the thread post&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_THREAD_TS&lt;/code>&lt;br>&lt;code>SLACK_THREAD_TS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>webhook&lt;/code>&lt;/td>
&lt;td>Slack webhook url to send data to&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_WEBHOOK&lt;/code>&lt;br>&lt;code>SLACK_WEBHOOK&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: message
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-slack:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> text: &amp;#34;Hello World!&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item><item><title>Plugins: SSH</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/ssh/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/ssh/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin is part of the &lt;a href="https://www.openssh.com/">OpenSSH&lt;/a> suite of plugins which enables you to use the &lt;code>ssh&lt;/code> binary in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-openssh">https://github.com/go-vela/vela-openssh&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-ssh">https://hub.docker.com/r/target/vela-ssh&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;p>Because the plugin is a thin wrapper around the &lt;a href="https://man.openbsd.org/ssh">&lt;code>ssh&lt;/code>&lt;/a> binary, the syntax and parameters follow from the &lt;a href="https://man.openbsd.org/ssh">OpenSSH manual&lt;/a>. The plugin will take care of some basic secrets identity management tasks for you, most importantly is that when an identity file is provided as a secret the plugin will place the file into the filesystem and change the permissions to match what the binary expects, and then add it to the list of identity files tried as part of authentication. Additionally, if using a password or passphrase for authentication or for unlocking an identity file, the &lt;a href="https://linux.die.net/man/1/sshpass">&lt;code>sshpass&lt;/code>&lt;/a> binary will be used to provide those credentials without interactive user input.&lt;/p>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for images.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;h3 id="basic-usage-with-no-auth-methods">Basic usage with no-auth methods&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ssh using no-auth&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-ssh:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">destination&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">a_different_user@some_other_host&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">command&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">echo &amp;#34;Hello Vela!&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#000">/some/path/to/a/remote/script.sh&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-the-ssh-schema-for-non-standard-ports">Using the &lt;code>ssh://&lt;/code> schema for non-standard ports&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: ssh to non-standard port
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-ssh:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ destination: ssh://a_different_user@some_remote_host_name:12345
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> command:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - echo &amp;#34;Hello Vela!&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="passing-additional-ssh-flags">Passing additional &lt;code>ssh&lt;/code> flags&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: override default ssh flags
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-ssh:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> destination: ssh://a_different_user@some_remote_host_name:12345
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> command:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - echo &amp;#34;Hello Vela!&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ ssh_flag:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - &amp;#34;-o StrictHostKeyChecking=yes&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-a-password-for-authentication">Using a password for authentication&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: password for authentication
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-ssh:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: my_non_user_account_password
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: sshpass_password
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> destination: ssh://a_different_user@some_remote_host_name:12345
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> command:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - echo &amp;#34;Hello Vela!&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-an-identity-file-without-a-passphrase-from-an-internal-secret">Using an identity file (WITHOUT a passphrase) from an internal secret&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: identity file contents from an internal secret
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-ssh:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: my_non_user_account_id_rsa_file_contents
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: identity_file_contents
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> destination: ssh://a_different_user@some_remote_host_name:12345
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> command:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - echo &amp;#34;Hello Vela!&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-an-identity-file-with-a-passphrase-from-an-internal-secret">Using an identity file (WITH a passphrase) from an internal secret&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: identity file contents with passphrase from an internal secret
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-ssh:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: my_non_user_account_id_rsa_file_contents
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: identity_file_contents
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: my_non_user_account_id_rsa_passphrase
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: sshpass_passphrase
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> destination: ssh://a_different_user@some_remote_host_name:12345
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> command:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - echo &amp;#34;Hello Vela!&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-an-existing-identity-file-from-the-workspace">Using an existing identity file from the workspace&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: identity file from the workspace
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-ssh:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> destination: ssh://a_different_user@some_remote_host_name:12345
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> command:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - echo &amp;#34;Hello Vela!&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ identity_file_path: ./some/workspace/location/id_rsa
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-additional-secrets-in-other-parameters">Using additional secrets in other parameters&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: additional secrets in other parameters
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-ssh:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: some_secret_user
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: secret_user
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: some_secret_host
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: secret_host
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - source: some_secret_port
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ target: secret_port
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ destination: ssh://$SECRET_USER@$SECRET_HOST:$SECRET_PORT
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> command:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - echo &amp;#34;Hello Vela!&amp;#34;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="using-the-container-without-the-plugin-logic">Using the container without the plugin logic&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: override plugin logic to use ssh directly
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-ssh:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> # Note that this ISN&amp;#39;T part of the parameters section.
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ commands:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ - ssh -i ./some/existing/id_rsa username@hostname some-bin
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="parameters--secrets">Parameters &amp;amp; Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;p>Don&amp;rsquo;t confuse the &lt;code>commands&lt;/code> parameter in a traditional Vela step with the &lt;code>command&lt;/code> option required for the ssh binary.&lt;/p>
&lt;/blockquote>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Accepts Multiple Values?&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;th>File Paths&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>destination&lt;/code>&lt;/td>
&lt;td>The destination option from the &lt;a href="https://man.openbsd.org/ssh">&lt;code>ssh&lt;/code> manual&lt;/a>.&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_DESTINATION&lt;/code>&lt;br>&lt;code>DESTINATION&lt;/code>&lt;br>&lt;code>PARAMETER_HOST&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-ssh/destination&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-ssh/destination&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>command&lt;/code>&lt;/td>
&lt;td>The command option from the &lt;a href="https://man.openbsd.org/ssh">&lt;code>ssh&lt;/code> manual&lt;/a>.&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_COMMAND&lt;/code>&lt;br>&lt;code>COMMAND&lt;/code>&lt;br>&lt;code>PARAMETER_SCRIPT&lt;/code>&lt;br>&lt;code>SCRIPT&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-ssh/command&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-ssh/command&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>identity_file_path&lt;/code>&lt;/td>
&lt;td>A path for where the &lt;a href="https://man.openbsd.org/ssh">&lt;code>ssh&lt;/code>&lt;/a> binary should look for existing identity files.&lt;br>These are NOT auto created by the plugin as they must be created and managed by a user and only referenced here.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_IDENTITY_FILE_PATH&lt;/code>&lt;br>&lt;code>IDENTITY_FILE_PATH&lt;/code>&lt;br>&lt;code>PARAMETER_SSH_KEY_PATH&lt;/code>&lt;br>&lt;code>SSH_KEY_PATH&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-ssh/identity-file.path&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-ssh/identity-file.path&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>identity_file_contents&lt;/code>&lt;/td>
&lt;td>The raw contents of an identity file for use with &lt;a href="https://man.openbsd.org/ssh">&lt;code>ssh&lt;/code>&lt;/a>.&lt;br>The plugin will take the raw contents and place it in a temporary location in the workspace with the correct permissions and inject it as an identity file to use during execution.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_IDENTITY_FILE_CONTENTS&lt;/code>&lt;br>&lt;code>IDENTITY_FILE_CONTENTS&lt;/code>&lt;br>&lt;code>PARAMETER_SSH_KEY&lt;/code>&lt;br>&lt;code>SSH_KEY&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-ssh/identity-file.contents&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-ssh/identity-file.contents&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>ssh_flag&lt;/code>&lt;/td>
&lt;td>Any additional options from the &lt;a href="https://man.openbsd.org/ssh">&lt;code>ssh&lt;/code> manual&lt;/a>.&lt;br>These will override the default options and be placed between the identity file options and the destination/command options at the end.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>&lt;code>-o StrictHostKeyChecking=no&lt;/code>&lt;br>&lt;code>-o UserKnownHostsFile=/dev/null&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_SSH_FLAG&lt;/code>&lt;br>&lt;code>SSH_FLAG&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-ssh/ssh.flag&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-ssh/ssh.flag&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sshpass_password&lt;/code>&lt;/td>
&lt;td>If any systems require a password for authentication it can be specified here, and the &lt;a href="https://linux.die.net/man/1/sshpass">&lt;code>sshpass&lt;/code>&lt;/a> binary will be used in conjunction with &lt;a href="https://man.openbsd.org/ssh">&lt;code>ssh&lt;/code>&lt;/a>.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_SSHPASS_PASSWORD&lt;/code>&lt;br>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>SSHPASS_PASSWORD&lt;/code>&lt;br>&lt;code>PASSWORD&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-ssh/sshpass.password&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-ssh/sshpass.password&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sshpass_passphrase&lt;/code>&lt;/td>
&lt;td>If any identity files require a passphrase for authentication it can be specified here, and the &lt;a href="https://linux.die.net/man/1/sshpass">&lt;code>sshpass&lt;/code>&lt;/a> binary will be used in conjunction with &lt;a href="https://man.openbsd.org/ssh">&lt;code>ssh&lt;/code>&lt;/a>.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_SSHPASS_PASSPHRASE&lt;/code>&lt;br>&lt;code>SSHPASS_PASSPHRASE&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-ssh/sshpass.passphrase&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-ssh/sshpass.passphrase&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>sshpass_flag&lt;/code>&lt;/td>
&lt;td>Any additional options from the &lt;a href="https://linux.die.net/man/1/sshpass">&lt;code>sshpass&lt;/code> manual&lt;/a>.&lt;/td>
&lt;td>❌&lt;/td>
&lt;td>✅&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;code>PARAMETER_SSHPASS_FLAG&lt;/code>&lt;br>&lt;code>SSHPASS_FLAG&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/vela-ssh/sshpass.flag&lt;/code>&lt;br>&lt;code>/vela/secrets/vela-ssh/sshpass.flag&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description></item><item><title>Plugins: Terraform</title><link>https://go-vela.github.io/docs/plugins/registry/pipeline/terraform/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://go-vela.github.io/docs/plugins/registry/pipeline/terraform/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>This plugin enables you to run &lt;a href="https://www.terraform.io/">Terraform&lt;/a> against &lt;a href="https://www.terraform.io/docs/providers/index.html">providers&lt;/a> in a Vela pipeline.&lt;/p>
&lt;p>Source Code: &lt;a href="https://github.com/go-vela/vela-terraform">https://github.com/go-vela/vela-terraform&lt;/a>&lt;/p>
&lt;p>Registry: &lt;a href="https://hub.docker.com/r/target/vela-terraform">https://hub.docker.com/r/target/vela-terraform&lt;/a>&lt;/p>
&lt;h2 id="usage">Usage&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>Users should refrain from using latest as the tag for the Docker image.&lt;/p>
&lt;p>It is recommended to use a semantically versioned tag instead.&lt;/p>
&lt;/blockquote>
&lt;p>Sample of adding installing terraform version:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-terraform:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">auto_approve&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Required for versions of Terraform 0.12.x&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">version&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#0000cf;font-weight:bold">0.11.7&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of adding init options to Terraform configuration:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-terraform:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">auto_approve&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Required for versions of Terraform 0.12.x&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">init_options&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">get_plugins&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of applying Terraform configuration:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-terraform:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">apply&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">auto_approve&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Required for versions of Terraform 0.12.x&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of destroying Terraform configuration:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">destroy&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-terraform:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">destroy&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">auto_approve&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">true&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># Required for versions of Terraform 0.12.x&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of formatting Terraform configuration files:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">fmt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-terraform:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">fmt&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of planning Terraform configuration:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">plan&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-terraform:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">plan&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Sample of validating Terraform configuration:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">steps&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>- &lt;span style="color:#204a87;font-weight:bold">name&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">validate&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">image&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">target/vela-terraform:latest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">pull&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">always&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">parameters&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">action&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">validate&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="secrets">Secrets&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong> Users should refrain from configuring sensitive information in your pipeline in plain text.&lt;/p>
&lt;/blockquote>
&lt;h3 id="internal">Internal&lt;/h3>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela internal secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-terraform:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ secrets: [ terraform_username, terraform_password ]
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> auto_approve: true # Required for versions of Terraform 0.12.x
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will add the secrets to the &lt;code>apply&lt;/code> step as environment variables:&lt;/p>
&lt;ul>
&lt;li>&lt;code>TERRAFORM_USERNAME=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>TERRAFORM_PASSWORD=&amp;lt;value&amp;gt;&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h3 id="external">External&lt;/h3>
&lt;p>The plugin accepts the following files for authentication:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Parameter&lt;/th>
&lt;th>Volume Configuration&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/terraform/password&lt;/code>, &lt;code>/vela/secrets/terraform/password&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>&lt;code>/vela/parameters/terraform/username&lt;/code>, &lt;code>/vela/secrets/terraform/username&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Users can use &lt;a href="https://go-vela.github.io/docs/tour/secrets/">Vela external secrets&lt;/a> to substitute these sensitive values at runtime:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-terraform:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> auto_approve: true # Required for versions of Terraform 0.12.x
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- username: octocat
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#a40000">- password: superSecretPassword
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>This example will read the secret values in the volume stored at &lt;code>/vela/secrets/&lt;/code>&lt;/p>
&lt;/blockquote>
&lt;h2 id="parameters">Parameters&lt;/h2>
&lt;blockquote>
&lt;p>&lt;strong>NOTE:&lt;/strong>&lt;/p>
&lt;p>The plugin supports reading all parameters via environment variables or files.&lt;/p>
&lt;p>Any values set from a file take precedence over values set from the environment.&lt;/p>
&lt;p>Terraform commands will be invoked in the current directory by default.&lt;/p>
&lt;/blockquote>
&lt;p>The following parameters are used to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>action&lt;/code>&lt;/td>
&lt;td>action to perform with Terraform&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_ACTION&lt;/code>&lt;br>&lt;code>TERRAFORM_ACTION&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>init_options&lt;/code>&lt;/td>
&lt;td>options to use for Terraform init operation&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_INIT_OPTIONS&lt;/code>&lt;br>&lt;code>TERRAFORM_INIT_OPTIONS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>log_level&lt;/code>&lt;/td>
&lt;td>set the log level for the plugin&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>info&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOG_LEVEL&lt;/code>&lt;br>&lt;code>TERRAFORM_LOG_LEVEL&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>machine&lt;/code>&lt;/td>
&lt;td>netrc machine name to communicate with&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>github.com&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_MACHINE&lt;/code>&lt;br>&lt;code>TERRAFORM_MACHINE&lt;/code>&lt;br>&lt;code>VELA_NETRC_MACHINE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>password&lt;/code>&lt;/td>
&lt;td>netrc password for authentication&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_PASSWORD&lt;/code>&lt;br>&lt;code>TERRAFORM_PASSWORD&lt;/code>&lt;br>&lt;code>VELA_NETRC_PASSWORD&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>username&lt;/code>&lt;/td>
&lt;td>netrc user name for authentication&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;strong>set by Vela&lt;/strong>&lt;/td>
&lt;td>&lt;code>PARAMETER_USERNAME&lt;/code>&lt;br>&lt;code>TERRAFORM_USERNAME&lt;/code>&lt;br>&lt;code>VELA_NETRC_USERNAME&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>version&lt;/code>&lt;/td>
&lt;td>set the Terraform CLI version&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>1.2.7&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VERSION&lt;/code>&lt;br>&lt;code>TERRAFORM_VERSION&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>The following parameters can be used within the &lt;code>init_options&lt;/code> to configure the image:&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>backend&lt;/code>&lt;/td>
&lt;td>configure the backend for this configuration&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>backend_configs&lt;/code>&lt;/td>
&lt;td>this is merged with what is in the configuration file&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>force_copy&lt;/code>&lt;/td>
&lt;td>suppress prompts about copying state data&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>from_module&lt;/code>&lt;/td>
&lt;td>copy the contents of the given module into the target directory before initialization&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>get&lt;/code>&lt;/td>
&lt;td>download any modules for this configuration&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>get_plugins&lt;/code>&lt;/td>
&lt;td>download any missing plugins for this configuration&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>input&lt;/code>&lt;/td>
&lt;td>ask for input for variables if not directly set&lt;/td>
&lt;td>&lt;code>true&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lock&lt;/code>&lt;/td>
&lt;td>lock the state file when locking is supported&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lock_timeout&lt;/code>&lt;/td>
&lt;td>duration to retry a state lock&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>no_color&lt;/code>&lt;/td>
&lt;td>disables colors in output&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>plugin_dirs&lt;/code>&lt;/td>
&lt;td>directory containing plugin binaries; overrides all default search paths for plugins&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>reconfigure&lt;/code>&lt;/td>
&lt;td>reconfigure the backend, ignoring any saved configuration&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>upgrade&lt;/code>&lt;/td>
&lt;td>install the latest version allowed within configured constraints&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>verify_plugins&lt;/code>&lt;/td>
&lt;td>verify the authenticity and integrity of automatically downloaded plugins&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="apply">Apply&lt;/h4>
&lt;p>The following parameters are used to configure the &lt;code>apply&lt;/code> action:&lt;/p>
&lt;p>&lt;em>Command uses Terraform CLI command defaults if not overridden in config.&lt;/em>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>auto_approve&lt;/code>&lt;/td>
&lt;td>skip interactive approval of applying resources&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_AUTO_APPROVE&lt;/code>&lt;br>&lt;code>TERRAFORM_AUTO_APPROVE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>backup&lt;/code>&lt;/td>
&lt;td>path to backup the existing state file&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_BACKUP&lt;/code>&lt;br>&lt;code>TERRAFORM_BACKUP&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>directory&lt;/code>&lt;/td>
&lt;td>the directory containing Terraform files to apply&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>.&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DIRECTORY&lt;/code>&lt;br>&lt;code>TERRAFORM_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lock&lt;/code>&lt;/td>
&lt;td>lock the state file when locking is supported&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOCK&lt;/code>&lt;br>&lt;code>TERRAFORM_LOCK&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lock_timeout&lt;/code>&lt;/td>
&lt;td>duration to retry a state lock&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOCK_TIMEOUT&lt;/code>&lt;br>&lt;code>TERRAFORM_LOCK_TIMEOUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>no_color&lt;/code>&lt;/td>
&lt;td>disables colors in output&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_NO_COLOR&lt;/code>&lt;br>&lt;code>TERRAFORM_NO_COLOR&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>parallelism&lt;/code>&lt;/td>
&lt;td>number of concurrent operations as Terraform walks its graph&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PARALLELISM&lt;/code>&lt;br>&lt;code>TERRAFORM_PARALLELISM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>refresh&lt;/code>&lt;/td>
&lt;td>update state prior to checking for differences&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REFRESH&lt;/code>&lt;br>&lt;code>TERRAFORM_REFRESH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>state&lt;/code>&lt;/td>
&lt;td>path to read and save state&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_STATE&lt;/code>&lt;br>&lt;code>TERRAFORM_STATE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>state_out&lt;/code>&lt;/td>
&lt;td>path to write updated state file&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_STATE_OUT&lt;/code>&lt;br>&lt;code>TERRAFORM_STATE_OUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target&lt;/code>&lt;/td>
&lt;td>resource to target&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET&lt;/code>&lt;br>&lt;code>TERRAFORM_TARGET&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>vars&lt;/code>&lt;/td>
&lt;td>a map of variables to pass to the Terraform (&lt;code>&amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;&lt;/code>)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VARS&lt;/code>&lt;br>&lt;code>TERRAFORM_VARS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>var_files&lt;/code>&lt;/td>
&lt;td>a list of var files to use&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VAR_FILES&lt;/code>&lt;br>&lt;code>TERRAFORM_VAR_FILES&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="destroy">Destroy&lt;/h4>
&lt;p>The following parameters are used to configure the &lt;code>destroy&lt;/code> action:&lt;/p>
&lt;p>&lt;em>Command uses Terraform CLI command defaults if not overridden in config.&lt;/em>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>auto_approve&lt;/code>&lt;/td>
&lt;td>skip interactive approval of destroying resources&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_AUTO_APPROVE&lt;/code>&lt;br>&lt;code>TERRAFORM_AUTO_APPROVE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>backup&lt;/code>&lt;/td>
&lt;td>path to backup the existing state file&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_BACKUP&lt;/code>&lt;br>&lt;code>TERRAFORM_BACKUP&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>directory&lt;/code>&lt;/td>
&lt;td>the directory containing Terraform files to destroy&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>.&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DIRECTORY&lt;/code>&lt;br>&lt;code>TERRAFORM_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lock&lt;/code>&lt;/td>
&lt;td>lock the state file when locking is supported&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOCK&lt;/code>&lt;br>&lt;code>TERRAFORM_LOCK&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lock_timeout&lt;/code>&lt;/td>
&lt;td>duration to retry a state lock&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOCK_TIMEOUT&lt;/code>&lt;br>&lt;code>TERRAFORM_LOCK_TIMEOUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>no_color&lt;/code>&lt;/td>
&lt;td>disables colors in output&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_NO_COLOR&lt;/code>&lt;br>&lt;code>TERRAFORM_NO_COLOR&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>parallelism&lt;/code>&lt;/td>
&lt;td>number of concurrent operations as Terraform walks its graph&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PARALLELISM&lt;/code>&lt;br>&lt;code>TERRAFORM_PARALLELISM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>refresh&lt;/code>&lt;/td>
&lt;td>update state prior to checking for differences&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REFRESH&lt;/code>&lt;br>&lt;code>TERRAFORM_REFRESH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>state&lt;/code>&lt;/td>
&lt;td>path to read and save state&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_STATE&lt;/code>&lt;br>&lt;code>TERRAFORM_STATE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>state_out&lt;/code>&lt;/td>
&lt;td>path to write updated state file&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_STATE_OUT&lt;/code>&lt;br>&lt;code>TERRAFORM_STATE_OUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target&lt;/code>&lt;/td>
&lt;td>resource to target&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET&lt;/code>&lt;br>&lt;code>TERRAFORM_TARGET&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>vars&lt;/code>&lt;/td>
&lt;td>a map of variables to pass to the Terraform (&lt;code>&amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;&lt;/code>)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VARS&lt;/code>&lt;br>&lt;code>TERRAFORM_VARS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>var_files&lt;/code>&lt;/td>
&lt;td>a list of var files to use&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VAR_FILES&lt;/code>&lt;br>&lt;code>TERRAFORM_VAR_FILES&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="format">Format&lt;/h4>
&lt;p>The following parameters are used to configure the &lt;code>fmt&lt;/code> action:&lt;/p>
&lt;p>&lt;em>Command uses Terraform CLI command defaults if not overridden in config.&lt;/em>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>check&lt;/code>&lt;/td>
&lt;td>validate if the input is formatted&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CHECK&lt;/code>&lt;br>&lt;code>TERRAFORM_CHECK&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>diff&lt;/code>&lt;/td>
&lt;td>diffs of formatting changes&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DIFF&lt;/code>&lt;br>&lt;code>TERRAFORM_DIFF&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>directory&lt;/code>&lt;/td>
&lt;td>the directory containing Terraform files to format&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>.&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DIRECTORY&lt;/code>&lt;br>&lt;code>TERRAFORM_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>list&lt;/code>&lt;/td>
&lt;td>list files whose formatting differs&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LIST&lt;/code>&lt;br>&lt;code>TERRAFORM_LIST&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>write&lt;/code>&lt;/td>
&lt;td>write result to source file instead of STDOUT&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_WRITE&lt;/code>&lt;br>&lt;code>TERRAFORM_WRITE&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="plan">Plan&lt;/h4>
&lt;p>The following parameters are used to configure the &lt;code>plan&lt;/code> action:&lt;/p>
&lt;p>&lt;em>Command uses Terraform CLI command defaults if not overridden in config.&lt;/em>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>destroy&lt;/code>&lt;/td>
&lt;td>destroy all resources managed by the given configuration and state&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DESTROY&lt;/code>&lt;br>&lt;code>TERRAFORM_DESTROY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>detailed_exit_code&lt;/code>&lt;/td>
&lt;td>return detailed exit codes when the command exits&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DETAILED_EXIT_CODE&lt;/code>&lt;br>&lt;code>TERRAFORM_DETAILED_EXIT_CODE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>directory&lt;/code>&lt;/td>
&lt;td>the directory containing Terraform files to plan&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>.&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DIRECTORY&lt;/code>&lt;br>&lt;code>TERRAFORM_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>input&lt;/code>&lt;/td>
&lt;td>ask for input for variables if not directly set&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_INPUT&lt;/code>&lt;br>&lt;code>TERRAFORM_INPUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lock&lt;/code>&lt;/td>
&lt;td>lock the state file when locking is supported&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOCK&lt;/code>&lt;br>&lt;code>TERRAFORM_LOCK&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>lock_timeout&lt;/code>&lt;/td>
&lt;td>duration to retry a state lock&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_LOCK_TIMEOUT&lt;/code>&lt;br>&lt;code>TERRAFORM_LOCK_TIMEOUT&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>module_depth&lt;/code>&lt;/td>
&lt;td>specifies the depth of modules to show in the output&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_MODULE_DEPTH&lt;/code>&lt;br>&lt;code>TERRAFORM_MODULE_DEPTH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>no_color&lt;/code>&lt;/td>
&lt;td>disables colors in output&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_NO_COLOR&lt;/code>&lt;br>&lt;code>TERRAFORM_NO_COLOR&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>parallelism&lt;/code>&lt;/td>
&lt;td>number of concurrent operations as Terraform walks its graph&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_PARALLELISM&lt;/code>&lt;br>&lt;code>TERRAFORM_PARALLELISM&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>refresh&lt;/code>&lt;/td>
&lt;td>update state prior to checking for differences&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_REFRESH&lt;/code>&lt;br>&lt;code>TERRAFORM_REFRESH&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>state&lt;/code>&lt;/td>
&lt;td>path to read and save state&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_STATE&lt;/code>&lt;br>&lt;code>TERRAFORM_STATE&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>target&lt;/code>&lt;/td>
&lt;td>resource to target&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_TARGET&lt;/code>&lt;br>&lt;code>TERRAFORM_TARGET&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>vars&lt;/code>&lt;/td>
&lt;td>a map of variables to pass to the Terraform (&lt;code>&amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;&lt;/code>)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VARS&lt;/code>&lt;br>&lt;code>TERRAFORM_VARS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>var_files&lt;/code>&lt;/td>
&lt;td>a list of var files to use&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VAR_FILES&lt;/code>&lt;br>&lt;code>TERRAFORM_VAR_FILES&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h4 id="validate">Validate&lt;/h4>
&lt;p>The following parameters are used to configure the &lt;code>validate&lt;/code> action:&lt;/p>
&lt;p>&lt;em>Command uses Terraform CLI command defaults if not overridden in config.&lt;/em>&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>Name&lt;/th>
&lt;th>Description&lt;/th>
&lt;th>Required&lt;/th>
&lt;th>Default&lt;/th>
&lt;th>Environment Variables&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>check_variables&lt;/code>&lt;/td>
&lt;td>command will check whether all required variables have been specified&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_CHECK_VARIABLES&lt;/code>&lt;br>&lt;code>TERRAFORM_CHECK_VARIABLES&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>directory&lt;/code>&lt;/td>
&lt;td>the directory containing Terraform files to validate&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>.&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_DIRECTORY&lt;/code>&lt;br>&lt;code>TERRAFORM_DIRECTORY&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>no_color&lt;/code>&lt;/td>
&lt;td>disables colors in output&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_NO_COLOR&lt;/code>&lt;br>&lt;code>TERRAFORM_NO_COLOR&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>vars&lt;/code>&lt;/td>
&lt;td>a map of variables to pass to the Terraform (&lt;code>&amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;&lt;/code>)&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VARS&lt;/code>&lt;br>&lt;code>TERRAFORM_VARS&lt;/code>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>var_files&lt;/code>&lt;/td>
&lt;td>a list of var files to use&lt;/td>
&lt;td>&lt;code>false&lt;/code>&lt;/td>
&lt;td>&lt;code>N/A&lt;/code>&lt;/td>
&lt;td>&lt;code>PARAMETER_VAR_FILES&lt;/code>&lt;br>&lt;code>TERRAFORM_VAR_FILES&lt;/code>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="template">Template&lt;/h2>
&lt;p>COMING SOON!&lt;/p>
&lt;h2 id="troubleshooting">Troubleshooting&lt;/h2>
&lt;p>You can start troubleshooting this plugin by tuning the level of logs being displayed:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-terraform:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> auto_approve: true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ log_level: trace
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>You can also instruct the Terraform CLI to output verbose logging:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-diff" data-lang="diff">&lt;span style="display:flex;">&lt;span>steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> image: target/vela-terraform:latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pull: always
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ environment:
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">+ TF_LOG: TRACE
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#00a000">&lt;/span> parameters:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> action: apply
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> auto_approve: true
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Below are a list of common problems and how to solve them:&lt;/p></description></item></channel></rss>